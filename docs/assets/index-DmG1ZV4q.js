var Jr=Object.defineProperty;var Kr=(e,t,r)=>t in e?Jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var De=(e,t,r)=>(Kr(e,typeof t!="symbol"?t+"":t,r),r);import{w as at,c as re,i as lt,a as Gr,d as ve,h as w,r as Qr,b as U,e as X,f as W,g as Xr,u as Qt,t as Ot,N as Yr,j as Ge,k as it,l as Zr,m as en,n as tn,o as Et,p as rn,q as V,s as nn,v as oe,x as qe,y as on,z as Xt,A as an,B as ln,C as Lt,D as Yt,E as sn,F as Nt,G as cn,H as un,I as dn,J as nt,S as fn,K as pn,V as hn,L as Ut,M as Vt,O as G,P as Ht,Q as Tt,R as vn,T as Zt,U as gn,W as mn,X as bn,Y as jt,Z as qt,_ as fe,$ as pe,a0 as We,a1 as wn,a2 as yn,a3 as ke,a4 as Ie,a5 as _n}from"./index-BCC-sxFn.js";import{A as xn}from"./index-Chca0HNt.js";function Cn(e,t){return at(e,r=>{r!==void 0&&(t.value=r)}),re(()=>e.value===void 0?t.value:e.value)}const Pn={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:e=>`Please load all ${e}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"yyyy-w",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",weekPlaceholder:"Select Week",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:e=>`Total ${e} items`,selected:e=>`${e} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now",clear:"Clear"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (←)",tipNext:"Next picture (→)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipDownload:"Download",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}};function Wt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,s=e.formats[r]||e.formats[e.defaultWidth];return s}}function Je(e){return function(t,r){var s=r!=null&&r.context?String(r.context):"standalone",l;if(s==="formatting"&&e.formattingValues){var h=e.defaultFormattingWidth||e.defaultWidth,g=r!=null&&r.width?String(r.width):h;l=e.formattingValues[g]||e.formattingValues[h]}else{var u=e.defaultWidth,v=r!=null&&r.width?String(r.width):e.defaultWidth;l=e.values[v]||e.values[u]}var f=e.argumentCallback?e.argumentCallback(t):t;return l[f]}}function Ke(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.width,l=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],h=t.match(l);if(!h)return null;var g=h[0],u=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(u)?An(u,function(S){return S.test(g)}):Sn(u,function(S){return S.test(g)}),f;f=e.valueCallback?e.valueCallback(v):v,f=r.valueCallback?r.valueCallback(f):f;var y=t.slice(g.length);return{value:f,rest:y}}}function Sn(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function An(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function En(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var l=s[0],h=t.match(e.parsePattern);if(!h)return null;var g=e.valueCallback?e.valueCallback(h[0]):h[0];g=r.valueCallback?r.valueCallback(g):g;var u=t.slice(l.length);return{value:g,rest:u}}}var Tn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wn=function(t,r,s){var l,h=Tn[t];return typeof h=="string"?l=h:r===1?l=h.one:l=h.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+l:l+" ago":l},kn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},In={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},On={date:Wt({formats:kn,defaultWidth:"full"}),time:Wt({formats:In,defaultWidth:"full"}),dateTime:Wt({formats:Mn,defaultWidth:"full"})},Rn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fn=function(t,r,s,l){return Rn[t]},Dn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$n={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ln={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Un=function(t,r){var s=Number(t),l=s%100;if(l>20||l<10)switch(l%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Vn={ordinalNumber:Un,era:Je({values:Dn,defaultWidth:"wide"}),quarter:Je({values:Bn,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Je({values:zn,defaultWidth:"wide"}),day:Je({values:$n,defaultWidth:"wide"}),dayPeriod:Je({values:Ln,defaultWidth:"wide",formattingValues:Nn,defaultFormattingWidth:"wide"})},Hn=/^(\d+)(th|st|nd|rd)?/i,jn=/\d+/i,qn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jn={any:[/^b/i,/^(a|c)/i]},Kn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gn={any:[/1/i,/2/i,/3/i,/4/i]},Qn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},to={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ro={ordinalNumber:En({matchPattern:Hn,parsePattern:jn,valueCallback:function(t){return parseInt(t,10)}}),era:Ke({matchPatterns:qn,defaultMatchWidth:"wide",parsePatterns:Jn,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:Kn,defaultMatchWidth:"wide",parsePatterns:Gn,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ke({matchPatterns:Qn,defaultMatchWidth:"wide",parsePatterns:Xn,defaultParseWidth:"any"}),day:Ke({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Zn,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:eo,defaultMatchWidth:"any",parsePatterns:to,defaultParseWidth:"any"})},no={code:"en-US",formatDistance:Wn,formatLong:On,formatRelative:Fn,localize:Vn,match:ro,options:{weekStartsOn:0,firstWeekContainsDate:1}};const oo={name:"en-US",locale:no};function ao(e){const{mergedLocaleRef:t,mergedDateLocaleRef:r}=lt(Gr,null)||{},s=re(()=>{var h,g;return(g=(h=t==null?void 0:t.value)===null||h===void 0?void 0:h[e])!==null&&g!==void 0?g:Pn[e]});return{dateLocaleRef:re(()=>{var h;return(h=r==null?void 0:r.value)!==null&&h!==void 0?h:oo}),localeRef:s}}const io=ve({name:"Eye",render(){return w("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},w("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),w("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),lo=ve({name:"EyeOff",render(){return w("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},w("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),w("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),w("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),w("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),w("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),so=ve({name:"ChevronDown",render(){return w("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),co=Qr("clear",w("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},w("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},w("g",{fill:"currentColor","fill-rule":"nonzero"},w("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),uo=U("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[X(">",[W("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[X("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),X("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),W("placeholder",`
 display: flex;
 `),W("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Xr({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Rt=ve({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(e){return Qt("-base-clear",uo,Ot(e,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:e}=this;return w("div",{class:`${e}-base-clear`},w(Yr,null,{default:()=>{var t,r;return this.show?w("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},Ge(this.$slots.icon,()=>[w(it,{clsPrefix:e},{default:()=>w(co,null)})])):w("div",{key:"icon",class:`${e}-base-clear__placeholder`},(r=(t=this.$slots).placeholder)===null||r===void 0?void 0:r.call(t))}}))}}),fo=ve({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(e,{slots:t}){return()=>{const{clsPrefix:r}=e;return w(Zr,{clsPrefix:r,class:`${r}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?w(Rt,{clsPrefix:r,show:e.showClear,onClear:e.onClear},{placeholder:()=>w(it,{clsPrefix:r,class:`${r}-base-suffix__arrow`},{default:()=>Ge(t.default,()=>[w(so,null)])})}):null})}}}),po=e=>{const{textColor2:t,textColor3:r,textColorDisabled:s,primaryColor:l,primaryColorHover:h,inputColor:g,inputColorDisabled:u,borderColor:v,warningColor:f,warningColorHover:y,errorColor:S,errorColorHover:T,borderRadius:H,lineHeight:R,fontSizeTiny:N,fontSizeSmall:M,fontSizeMedium:K,fontSizeLarge:p,heightTiny:_,heightSmall:P,heightMedium:E,heightLarge:j,actionColor:q,clearColor:Q,clearColorHover:Y,clearColorPressed:J,placeholderColor:de,placeholderColorDisabled:ne,iconColor:le,iconColorDisabled:Oe,iconColorHover:se,iconColorPressed:ge}=e;return Object.assign(Object.assign({},tn),{countTextColorDisabled:s,countTextColor:r,heightTiny:_,heightSmall:P,heightMedium:E,heightLarge:j,fontSizeTiny:N,fontSizeSmall:M,fontSizeMedium:K,fontSizeLarge:p,lineHeight:R,lineHeightTextarea:R,borderRadius:H,iconSize:"16px",groupLabelColor:q,groupLabelTextColor:t,textColor:t,textColorDisabled:s,textDecorationColor:t,caretColor:l,placeholderColor:de,placeholderColorDisabled:ne,color:g,colorDisabled:u,colorFocus:g,groupLabelBorder:`1px solid ${v}`,border:`1px solid ${v}`,borderHover:`1px solid ${h}`,borderDisabled:`1px solid ${v}`,borderFocus:`1px solid ${h}`,boxShadowFocus:`0 0 0 2px ${Et(l,{alpha:.2})}`,loadingColor:l,loadingColorWarning:f,borderWarning:`1px solid ${f}`,borderHoverWarning:`1px solid ${y}`,colorFocusWarning:g,borderFocusWarning:`1px solid ${y}`,boxShadowFocusWarning:`0 0 0 2px ${Et(f,{alpha:.2})}`,caretColorWarning:f,loadingColorError:S,borderError:`1px solid ${S}`,borderHoverError:`1px solid ${T}`,colorFocusError:g,borderFocusError:`1px solid ${T}`,boxShadowFocusError:`0 0 0 2px ${Et(S,{alpha:.2})}`,caretColorError:S,clearColor:Q,clearColorHover:Y,clearColorPressed:J,iconColor:le,iconColorDisabled:Oe,iconColorHover:se,iconColorPressed:ge,suffixTextColor:t})},ho={name:"Input",common:en,self:po},er=rn("n-input");function vo(e){let t=0;for(const r of e)t++;return t}function ot(e){return e===""||e==null}function go(e){const t=V(null);function r(){const{value:h}=e;if(!(h!=null&&h.focus)){l();return}const{selectionStart:g,selectionEnd:u,value:v}=h;if(g==null||u==null){l();return}t.value={start:g,end:u,beforeText:v.slice(0,g),afterText:v.slice(u)}}function s(){var h;const{value:g}=t,{value:u}=e;if(!g||!u)return;const{value:v}=u,{start:f,beforeText:y,afterText:S}=g;let T=v.length;if(v.endsWith(S))T=v.length-S.length;else if(v.startsWith(y))T=y.length;else{const H=y[f-1],R=v.indexOf(H,f-1);R!==-1&&(T=R+1)}(h=u.setSelectionRange)===null||h===void 0||h.call(u,T,T)}function l(){t.value=null}return at(e,l),{recordCursor:r,restoreCursor:s}}const Jt=ve({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:r,maxlengthRef:s,mergedClsPrefixRef:l,countGraphemesRef:h}=lt(er),g=re(()=>{const{value:u}=r;return u===null||Array.isArray(u)?0:(h.value||vo)(u)});return()=>{const{value:u}=s,{value:v}=r;return w("span",{class:`${l.value}-input-word-count`},nn(t.default,{value:v===null||Array.isArray(v)?"":v},()=>[u===void 0?g.value:`${g.value} / ${u}`]))}}}),mo=U("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[W("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),W("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),W("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[X("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),X("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),X("&:-webkit-autofill ~",[W("placeholder","display: none;")])]),oe("round",[qe("textarea","border-radius: calc(var(--n-height) / 2);")]),W("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[X("span",`
 width: 100%;
 display: inline-block;
 `)]),oe("textarea",[W("placeholder","overflow: visible;")]),qe("autosize","width: 100%;"),oe("autosize",[W("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),U("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),W("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),W("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[X("&[type=password]::-ms-reveal","display: none;"),X("+",[W("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),qe("textarea",[W("placeholder","white-space: nowrap;")]),W("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),oe("textarea","width: 100%;",[U("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),oe("resizable",[U("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),W("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 scroll-padding-block-end: var(--n-padding-vertical);
 `),W("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),oe("pair",[W("input-el, placeholder","text-align: center;"),W("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[U("icon",`
 color: var(--n-icon-color);
 `),U("base-icon",`
 color: var(--n-icon-color);
 `)])]),oe("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[W("border","border: var(--n-border-disabled);"),W("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),W("placeholder","color: var(--n-placeholder-color-disabled);"),W("separator","color: var(--n-text-color-disabled);",[U("icon",`
 color: var(--n-icon-color-disabled);
 `),U("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),U("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),W("suffix, prefix","color: var(--n-text-color-disabled);",[U("icon",`
 color: var(--n-icon-color-disabled);
 `),U("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),qe("disabled",[W("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[X("&:hover",`
 color: var(--n-icon-color-hover);
 `),X("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),X("&:hover",[W("state-border","border: var(--n-border-hover);")]),oe("focus","background-color: var(--n-color-focus);",[W("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),W("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),W("state-border",`
 border-color: #0000;
 z-index: 1;
 `),W("prefix","margin-right: 4px;"),W("suffix",`
 margin-left: 4px;
 `),W("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[U("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),U("base-clear",`
 font-size: var(--n-icon-size);
 `,[W("placeholder",[U("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),X(">",[U("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),U("base-icon",`
 font-size: var(--n-icon-size);
 `)]),U("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(e=>oe(`${e}-status`,[qe("disabled",[U("base-loading",`
 color: var(--n-loading-color-${e})
 `),W("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${e});
 `),W("state-border",`
 border: var(--n-border-${e});
 `),X("&:hover",[W("state-border",`
 border: var(--n-border-hover-${e});
 `)]),X("&:focus",`
 background-color: var(--n-color-focus-${e});
 `,[W("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)]),oe("focus",`
 background-color: var(--n-color-focus-${e});
 `,[W("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),bo=U("input",[oe("disabled",[W("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]),wo=Object.assign(Object.assign({},Xt.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),yo=ve({name:"Input",props:wo,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:s,mergedRtlRef:l}=on(e),h=Xt("Input","-input",mo,ho,e,t);an&&Qt("-input-safari",bo,t);const g=V(null),u=V(null),v=V(null),f=V(null),y=V(null),S=V(null),T=V(null),H=go(T),R=V(null),{localeRef:N}=ao("Input"),M=V(e.defaultValue),K=Ot(e,"value"),p=Cn(K,M),_=ln(e),{mergedSizeRef:P,mergedDisabledRef:E,mergedStatusRef:j}=_,q=V(!1),Q=V(!1),Y=V(!1),J=V(!1);let de=null;const ne=re(()=>{const{placeholder:a,pair:c}=e;return c?Array.isArray(a)?a:a===void 0?["",""]:[a,a]:a===void 0?[N.value.placeholder]:[a]}),le=re(()=>{const{value:a}=Y,{value:c}=p,{value:C}=ne;return!a&&(ot(c)||Array.isArray(c)&&ot(c[0]))&&C[0]}),Oe=re(()=>{const{value:a}=Y,{value:c}=p,{value:C}=ne;return!a&&C[1]&&(ot(c)||Array.isArray(c)&&ot(c[1]))}),se=Lt(()=>e.internalForceFocus||q.value),ge=Lt(()=>{if(E.value||e.readonly||!e.clearable||!se.value&&!Q.value)return!1;const{value:a}=p,{value:c}=se;return e.pair?!!(Array.isArray(a)&&(a[0]||a[1]))&&(Q.value||c):!!a&&(Q.value||c)}),$e=re(()=>{const{showPasswordOn:a}=e;if(a)return a;if(e.showPasswordToggle)return"click"}),ee=V(!1),me=re(()=>{const{textDecoration:a}=e;return a?Array.isArray(a)?a.map(c=>({textDecoration:c})):[{textDecoration:a}]:["",""]}),Xe=V(void 0),ct=()=>{var a,c;if(e.type==="textarea"){const{autosize:C}=e;if(C&&(Xe.value=(c=(a=R.value)===null||a===void 0?void 0:a.$el)===null||c===void 0?void 0:c.offsetWidth),!u.value||typeof C=="boolean")return;const{paddingTop:D,paddingBottom:L,lineHeight:F}=window.getComputedStyle(u.value),Ae=Number(D.slice(0,-2)),Ee=Number(L.slice(0,-2)),Te=Number(F.slice(0,-2)),{value:He}=v;if(!He)return;if(C.minRows){const je=Math.max(C.minRows,1),At=`${Ae+Ee+Te*je}px`;He.style.minHeight=At}if(C.maxRows){const je=`${Ae+Ee+Te*C.maxRows}px`;He.style.maxHeight=je}}},Ye=re(()=>{const{maxlength:a}=e;return a===void 0?void 0:Number(a)});Yt(()=>{const{value:a}=p;Array.isArray(a)||I(a)});const Le=sn().proxy;function be(a,c){const{onUpdateValue:C,"onUpdate:value":D,onInput:L}=e,{nTriggerFormInput:F}=_;C&&G(C,a,c),D&&G(D,a,c),L&&G(L,a,c),M.value=a,F()}function ce(a,c){const{onChange:C}=e,{nTriggerFormChange:D}=_;C&&G(C,a,c),M.value=a,D()}function Ze(a){const{onBlur:c}=e,{nTriggerFormBlur:C}=_;c&&G(c,a),C()}function ut(a){const{onFocus:c}=e,{nTriggerFormFocus:C}=_;c&&G(c,a),C()}function et(a){const{onClear:c}=e;c&&G(c,a)}function Ne(a){const{onInputBlur:c}=e;c&&G(c,a)}function we(a){const{onInputFocus:c}=e;c&&G(c,a)}function dt(){const{onDeactivate:a}=e;a&&G(a)}function ft(){const{onActivate:a}=e;a&&G(a)}function B(a){const{onClick:c}=e;c&&G(c,a)}function pt(a){const{onWrapperFocus:c}=e;c&&G(c,a)}function ht(a){const{onWrapperBlur:c}=e;c&&G(c,a)}function Z(){Y.value=!0}function vt(a){Y.value=!1,a.target===S.value?ye(a,1):ye(a,0)}function ye(a,c=0,C="input"){const D=a.target.value;if(I(D),a instanceof InputEvent&&!a.isComposing&&(Y.value=!1),e.type==="textarea"){const{value:F}=R;F&&F.syncUnifiedContainer()}if(de=D,Y.value)return;H.recordCursor();const L=gt(D);if(L)if(!e.pair)C==="input"?be(D,{source:c}):ce(D,{source:c});else{let{value:F}=p;Array.isArray(F)?F=[F[0],F[1]]:F=["",""],F[c]=D,C==="input"?be(F,{source:c}):ce(F,{source:c})}Le.$forceUpdate(),L||Ut(H.restoreCursor)}function gt(a){const{countGraphemes:c,maxlength:C,minlength:D}=e;if(c){let F;if(C!==void 0&&(F===void 0&&(F=c(a)),F>Number(C))||D!==void 0&&(F===void 0&&(F=c(a)),F<Number(C)))return!1}const{allowInput:L}=e;return typeof L=="function"?L(a):!0}function mt(a){Ne(a),a.relatedTarget===g.value&&dt(),a.relatedTarget!==null&&(a.relatedTarget===y.value||a.relatedTarget===S.value||a.relatedTarget===u.value)||(J.value=!1),Re(a,"blur"),T.value=null}function _e(a,c){we(a),q.value=!0,J.value=!0,ft(),Re(a,"focus"),c===0?T.value=y.value:c===1?T.value=S.value:c===2&&(T.value=u.value)}function bt(a){e.passivelyActivated&&(ht(a),Re(a,"blur"))}function xe(a){e.passivelyActivated&&(q.value=!0,pt(a),Re(a,"focus"))}function Re(a,c){a.relatedTarget!==null&&(a.relatedTarget===y.value||a.relatedTarget===S.value||a.relatedTarget===u.value||a.relatedTarget===g.value)||(c==="focus"?(ut(a),q.value=!0):c==="blur"&&(Ze(a),q.value=!1))}function ue(a,c){ye(a,c,"change")}function wt(a){B(a)}function yt(a){et(a),tt()}function tt(){e.pair?(be(["",""],{source:"clear"}),ce(["",""],{source:"clear"})):(be("",{source:"clear"}),ce("",{source:"clear"}))}function Ce(a){const{onMousedown:c}=e;c&&c(a);const{tagName:C}=a.target;if(C!=="INPUT"&&C!=="TEXTAREA"){if(e.resizable){const{value:D}=g;if(D){const{left:L,top:F,width:Ae,height:Ee}=D.getBoundingClientRect(),Te=14;if(L+Ae-Te<a.clientX&&a.clientX<L+Ae&&F+Ee-Te<a.clientY&&a.clientY<F+Ee)return}}a.preventDefault(),q.value||i()}}function _t(){var a;Q.value=!0,e.type==="textarea"&&((a=R.value)===null||a===void 0||a.handleMouseEnterWrapper())}function xt(){var a;Q.value=!1,e.type==="textarea"&&((a=R.value)===null||a===void 0||a.handleMouseLeaveWrapper())}function Pe(){E.value||$e.value==="click"&&(ee.value=!ee.value)}function Ct(a){if(E.value)return;a.preventDefault();const c=D=>{D.preventDefault(),Ht("mouseup",document,c)};if(Vt("mouseup",document,c),$e.value!=="mousedown")return;ee.value=!0;const C=()=>{ee.value=!1,Ht("mouseup",document,C)};Vt("mouseup",document,C)}function Pt(a){e.onKeyup&&G(e.onKeyup,a)}function Ue(a){switch(e.onKeydown&&G(e.onKeydown,a),a.key){case"Escape":o();break;case"Enter":n(a);break}}function n(a){var c,C;if(e.passivelyActivated){const{value:D}=J;if(D){e.internalDeactivateOnEnter&&o();return}a.preventDefault(),e.type==="textarea"?(c=u.value)===null||c===void 0||c.focus():(C=y.value)===null||C===void 0||C.focus()}}function o(){e.passivelyActivated&&(J.value=!1,Ut(()=>{var a;(a=g.value)===null||a===void 0||a.focus()}))}function i(){var a,c,C;E.value||(e.passivelyActivated?(a=g.value)===null||a===void 0||a.focus():((c=u.value)===null||c===void 0||c.focus(),(C=y.value)===null||C===void 0||C.focus()))}function d(){var a;!((a=g.value)===null||a===void 0)&&a.contains(document.activeElement)&&document.activeElement.blur()}function m(){var a,c;(a=u.value)===null||a===void 0||a.select(),(c=y.value)===null||c===void 0||c.select()}function k(){E.value||(u.value?u.value.focus():y.value&&y.value.focus())}function x(){const{value:a}=g;a!=null&&a.contains(document.activeElement)&&a!==document.activeElement&&o()}function z(a){if(e.type==="textarea"){const{value:c}=u;c==null||c.scrollTo(a)}else{const{value:c}=y;c==null||c.scrollTo(a)}}function I(a){const{type:c,pair:C,autosize:D}=e;if(!C&&D)if(c==="textarea"){const{value:L}=v;L&&(L.textContent=(a??"")+`\r
`)}else{const{value:L}=f;L&&(a?L.textContent=a:L.innerHTML="&nbsp;")}}function A(){ct()}const $=V({top:"0"});function ie(a){var c;const{scrollTop:C}=a.target;$.value.top=`${-C}px`,(c=R.value)===null||c===void 0||c.syncUnifiedContainer()}let Se=null;Nt(()=>{const{autosize:a,type:c}=e;a&&c==="textarea"?Se=at(p,C=>{!Array.isArray(C)&&C!==de&&I(C)}):Se==null||Se()});let Fe=null;Nt(()=>{e.type==="textarea"?Fe=at(p,a=>{var c;!Array.isArray(a)&&a!==de&&((c=R.value)===null||c===void 0||c.syncUnifiedContainer())}):Fe==null||Fe()}),cn(er,{mergedValueRef:p,maxlengthRef:Ye,mergedClsPrefixRef:t,countGraphemesRef:Ot(e,"countGraphemes")});const Ve={wrapperElRef:g,inputElRef:y,textareaElRef:u,isCompositing:Y,clear:tt,focus:i,blur:d,select:m,deactivate:x,activate:k,scrollTo:z},St=un("Input",l,t),rt=re(()=>{const{value:a}=P,{common:{cubicBezierEaseInOut:c},self:{color:C,borderRadius:D,textColor:L,caretColor:F,caretColorError:Ae,caretColorWarning:Ee,textDecorationColor:Te,border:He,borderDisabled:je,borderHover:At,borderFocus:cr,placeholderColor:ur,placeholderColorDisabled:dr,lineHeightTextarea:fr,colorDisabled:pr,colorFocus:hr,textColorDisabled:vr,boxShadowFocus:gr,iconSize:mr,colorFocusWarning:br,boxShadowFocusWarning:wr,borderWarning:yr,borderFocusWarning:_r,borderHoverWarning:xr,colorFocusError:Cr,boxShadowFocusError:Pr,borderError:Sr,borderFocusError:Ar,borderHoverError:Er,clearSize:Tr,clearColor:Wr,clearColorHover:kr,clearColorPressed:Ir,iconColor:Mr,iconColorDisabled:Or,suffixTextColor:Rr,countTextColor:Fr,countTextColorDisabled:Dr,iconColorHover:Br,iconColorPressed:zr,loadingColor:$r,loadingColorError:Lr,loadingColorWarning:Nr,[Tt("padding",a)]:Ur,[Tt("fontSize",a)]:Vr,[Tt("height",a)]:Hr}}=h.value,{left:jr,right:qr}=vn(Ur);return{"--n-bezier":c,"--n-count-text-color":Fr,"--n-count-text-color-disabled":Dr,"--n-color":C,"--n-font-size":Vr,"--n-border-radius":D,"--n-height":Hr,"--n-padding-left":jr,"--n-padding-right":qr,"--n-text-color":L,"--n-caret-color":F,"--n-text-decoration-color":Te,"--n-border":He,"--n-border-disabled":je,"--n-border-hover":At,"--n-border-focus":cr,"--n-placeholder-color":ur,"--n-placeholder-color-disabled":dr,"--n-icon-size":mr,"--n-line-height-textarea":fr,"--n-color-disabled":pr,"--n-color-focus":hr,"--n-text-color-disabled":vr,"--n-box-shadow-focus":gr,"--n-loading-color":$r,"--n-caret-color-warning":Ee,"--n-color-focus-warning":br,"--n-box-shadow-focus-warning":wr,"--n-border-warning":yr,"--n-border-focus-warning":_r,"--n-border-hover-warning":xr,"--n-loading-color-warning":Nr,"--n-caret-color-error":Ae,"--n-color-focus-error":Cr,"--n-box-shadow-focus-error":Pr,"--n-border-error":Sr,"--n-border-focus-error":Ar,"--n-border-hover-error":Er,"--n-loading-color-error":Lr,"--n-clear-color":Wr,"--n-clear-size":Tr,"--n-clear-color-hover":kr,"--n-clear-color-pressed":Ir,"--n-icon-color":Mr,"--n-icon-color-hover":Br,"--n-icon-color-pressed":zr,"--n-icon-color-disabled":Or,"--n-suffix-text-color":Rr}}),b=s?dn("input",re(()=>{const{value:a}=P;return a[0]}),rt,e):void 0;return Object.assign(Object.assign({},Ve),{wrapperElRef:g,inputElRef:y,inputMirrorElRef:f,inputEl2Ref:S,textareaElRef:u,textareaMirrorElRef:v,textareaScrollbarInstRef:R,rtlEnabled:St,uncontrolledValue:M,mergedValue:p,passwordVisible:ee,mergedPlaceholder:ne,showPlaceholder1:le,showPlaceholder2:Oe,mergedFocus:se,isComposing:Y,activated:J,showClearButton:ge,mergedSize:P,mergedDisabled:E,textDecorationStyle:me,mergedClsPrefix:t,mergedBordered:r,mergedShowPasswordOn:$e,placeholderStyle:$,mergedStatus:j,textAreaScrollContainerWidth:Xe,handleTextAreaScroll:ie,handleCompositionStart:Z,handleCompositionEnd:vt,handleInput:ye,handleInputBlur:mt,handleInputFocus:_e,handleWrapperBlur:bt,handleWrapperFocus:xe,handleMouseEnter:_t,handleMouseLeave:xt,handleMouseDown:Ce,handleChange:ue,handleClick:wt,handleClear:yt,handlePasswordToggleClick:Pe,handlePasswordToggleMousedown:Ct,handleWrapperKeydown:Ue,handleWrapperKeyup:Pt,handleTextAreaMirrorResize:A,getTextareaScrollContainer:()=>u.value,mergedTheme:h,cssVars:s?void 0:rt,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender})},render(){var e,t;const{mergedClsPrefix:r,mergedStatus:s,themeClass:l,type:h,countGraphemes:g,onRender:u}=this,v=this.$slots;return u==null||u(),w("div",{ref:"wrapperElRef",class:[`${r}-input`,l,s&&`${r}-input--${s}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:h==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&h!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},w("div",{class:`${r}-input-wrapper`},nt(v.prefix,f=>f&&w("div",{class:`${r}-input__prefix`},f)),h==="textarea"?w(fn,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var f,y;const{textAreaScrollContainerWidth:S}=this,T={width:this.autosize&&S&&`${S}px`};return w(pn,null,w("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${r}-input__textarea-el`,(f=this.inputProps)===null||f===void 0?void 0:f.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:g?void 0:this.maxlength,minlength:g?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(y=this.inputProps)===null||y===void 0?void 0:y.style,T],onBlur:this.handleInputBlur,onFocus:H=>{this.handleInputFocus(H,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?w("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,T],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?w(hn,{onResize:this.handleTextAreaMirrorResize},{default:()=>w("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):w("div",{class:`${r}-input__input`},w("input",Object.assign({type:h==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":h},this.inputProps,{ref:"inputElRef",class:[`${r}-input__input-el`,(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(t=this.inputProps)===null||t===void 0?void 0:t.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:g?void 0:this.maxlength,minlength:g?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:f=>{this.handleInputFocus(f,0)},onInput:f=>{this.handleInput(f,0)},onChange:f=>{this.handleChange(f,0)}})),this.showPlaceholder1?w("div",{class:`${r}-input__placeholder`},w("span",null,this.mergedPlaceholder[0])):null,this.autosize?w("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"}," "):null),!this.pair&&nt(v.suffix,f=>f||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?w("div",{class:`${r}-input__suffix`},[nt(v["clear-icon-placeholder"],y=>(this.clearable||y)&&w(Rt,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>y,icon:()=>{var S,T;return(T=(S=this.$slots)["clear-icon"])===null||T===void 0?void 0:T.call(S)}})),this.internalLoadingBeforeSuffix?null:f,this.loading!==void 0?w(fo,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?f:null,this.showCount&&this.type!=="textarea"?w(Jt,null,{default:y=>{var S;return(S=v.count)===null||S===void 0?void 0:S.call(v,y)}}):null,this.mergedShowPasswordOn&&this.type==="password"?w("div",{class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?Ge(v["password-visible-icon"],()=>[w(it,{clsPrefix:r},{default:()=>w(io,null)})]):Ge(v["password-invisible-icon"],()=>[w(it,{clsPrefix:r},{default:()=>w(lo,null)})])):null]):null)),this.pair?w("span",{class:`${r}-input__separator`},Ge(v.separator,()=>[this.separator])):null,this.pair?w("div",{class:`${r}-input-wrapper`},w("div",{class:`${r}-input__input`},w("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:g?void 0:this.maxlength,minlength:g?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:f=>{this.handleInputFocus(f,1)},onInput:f=>{this.handleInput(f,1)},onChange:f=>{this.handleChange(f,1)}}),this.showPlaceholder2?w("div",{class:`${r}-input__placeholder`},w("span",null,this.mergedPlaceholder[1])):null),nt(v.suffix,f=>(this.clearable||f)&&w("div",{class:`${r}-input__suffix`},[this.clearable&&w(Rt,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var y;return(y=v["clear-icon"])===null||y===void 0?void 0:y.call(v)},placeholder:()=>{var y;return(y=v["clear-icon-placeholder"])===null||y===void 0?void 0:y.call(v)}}),f]))):null,this.mergedBordered?w("div",{class:`${r}-input__border`}):null,this.mergedBordered?w("div",{class:`${r}-input__state-border`}):null,this.showCount&&h==="textarea"?w(Jt,null,{default:f=>{var y;const{renderCount:S}=this;return S?S(f):(y=v.count)===null||y===void 0?void 0:y.call(v,f)}}):null)}});function _o(){const e=lt(gn,null);return e===null&&Zt("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}function xo(){const e=lt(mn,null);return e===null&&Zt("use-notification","No outer `n-notification-provider` found."),e}var tr={},st={};(function(){var e={},t="";try{t=location.hash.toString()}catch{}var r=v(t),s=K("initParams");if(s)for(var l in s)typeof r[l]>"u"&&(r[l]=s[l]);M("initParams",r);var h=!1,g;try{if(h=window.parent!=null&&window!=window.parent,h){window.addEventListener("message",function(p){if(p.source===window.parent){try{var _=JSON.parse(p.data)}catch{return}if(!(!_||!_.eventType))if(_.eventType=="set_custom_style")p.origin==="https://web.telegram.org"&&(g.innerHTML=_.eventData);else if(_.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else T(_.eventType,_.eventData)}}),g=document.createElement("style"),document.head.appendChild(g);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function u(p){try{return p=p.replace(/\+/g,"%20"),decodeURIComponent(p)}catch{return p}}function v(p){p=p.replace(/^#/,"");var _={};if(!p.length)return _;if(p.indexOf("=")<0&&p.indexOf("?")<0)return _._path=u(p),_;var P=p.indexOf("?");if(P>=0){var E=p.substr(0,P);_._path=u(E),p=p.substr(P+1)}var j=f(p);for(var q in j)_[q]=j[q];return _}function f(p){var _={};if(!p.length)return _;var P=p.split("&"),E,j,q,Q;for(E=0;E<P.length;E++)j=P[E].split("="),q=u(j[0]),Q=j[1]==null?null:u(j[1]),_[q]=Q;return _}function y(p,_){var P=p.indexOf("#");if(P<0)return p+"#"+_;var E=p.substr(P+1);return E.indexOf("=")>=0||E.indexOf("?")>=0?p+"&"+_:E.length>0?p+"?"+_:p+_}function S(p,_,P){if(_||(_=function(){}),P===void 0&&(P=""),console.log("[Telegram.WebView] > postEvent",p,P),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(p,JSON.stringify(P)),_();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:p,eventData:P})),_();else if(h)try{var E="https://web.telegram.org";E="*",window.parent.postMessage(JSON.stringify({eventType:p,eventData:P}),E),_()}catch(j){_(j)}else _({notAvailable:!0})}function T(p,_){console.log("[Telegram.WebView] < receiveEvent",p,_),H(p,function(P){P(p,_)})}function H(p,_){var P=e[p];if(!(P===void 0||!P.length))for(var E=0;E<P.length;E++)try{_(P[E])}catch{}}function R(p,_){e[p]===void 0&&(e[p]=[]);var P=e[p].indexOf(_);P===-1&&e[p].push(_)}function N(p,_){if(e[p]!==void 0){var P=e[p].indexOf(_);P!==-1&&e[p].splice(P,1)}}function M(p,_){try{return window.sessionStorage.setItem("__telegram__"+p,JSON.stringify(_)),!0}catch{}return!1}function K(p){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+p))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:r,isIframe:h,onEvent:R,offEvent:N,postEvent:S,receiveEvent:T,callEventCallbacks:H},window.Telegram.Utils={urlSafeDecode:u,urlParseQueryString:f,urlParseHashParams:v,urlAppendHashParams:y,sessionStorageSet:M,sessionStorageGet:K},window.TelegramGameProxy_receiveEvent=T,window.TelegramGameProxy={receiveEvent:T}})();(function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,r=t.initParams,s=t.isIframe,l={},h="",g={},u={},v="light",f="6.0",y="unknown";if(r.tgWebAppData&&r.tgWebAppData.length){h=r.tgWebAppData,g=e.urlParseQueryString(h);for(var S in g){var T=g[S];try{(T.substr(0,1)=="{"&&T.substr(-1)=="}"||T.substr(0,1)=="["&&T.substr(-1)=="]")&&(g[S]=JSON.parse(T))}catch{}}}if(r.tgWebAppThemeParams&&r.tgWebAppThemeParams.length){var H=r.tgWebAppThemeParams;try{var R=JSON.parse(H);R&&Y(R)}catch{}}var R=e.sessionStorageGet("themeParams");R&&Y(R),r.tgWebAppVersion&&(f=r.tgWebAppVersion),r.tgWebAppPlatform&&(y=r.tgWebAppPlatform);function N(n,o){o.theme_params&&(Y(o.theme_params),window.Telegram.WebApp.MainButton.setParams({}),Ne(),E("themeChanged"))}var M=window.innerHeight;function K(n,o){o.height&&(window.removeEventListener("resize",p),se(o))}function p(n){M!=window.innerHeight&&(M=window.innerHeight,E("viewportChanged",{isStateStable:!0}))}function _(n){if(!(n.metaKey||n.ctrlKey)){for(var o=n.target;o.tagName!="A"&&o.parentNode;)o=o.parentNode;o.tagName=="A"&&o.target!="_blank"&&(o.protocol=="http:"||o.protocol=="https:")&&o.hostname=="t.me"&&(l.openTgLink(o.href),n.preventDefault())}}function P(n){return n.toString().replace(/^\s+|\s+$/g,"")}function E(n){var o=Array.prototype.slice.call(arguments);n=o.shift(),t.callEventCallbacks("webview:"+n,function(i){i.apply(l,o)})}function j(n,o){t.onEvent("webview:"+n,o)}function q(n,o){t.offEvent("webview:"+n,o)}function Q(n,o){var i=document.documentElement;i&&i.style&&i.style.setProperty&&i.style.setProperty("--tg-"+n,o)}function Y(n){n.bg_color=="#1c1c1d"&&n.bg_color==n.secondary_bg_color&&(n.secondary_bg_color="#2c2c2e");var o;for(var i in n)(o=we(n[i]))&&(u[i]=o,i=="bg_color"&&(v=dt(o)?"dark":"light",Q("color-scheme",v)),i="theme-"+i.split("_").join("-"),Q(i,o));e.sessionStorageSet("themeParams",u)}var J={};function de(n){for(var o=100;--o;){for(var i="",d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",m=d.length,k=0;k<n;k++)i+=d[Math.floor(Math.random()*m)];if(!J[i])return J[i]={},i}throw Error("WebAppCallbackIdGenerateFailed")}var ne=!1,le=!1,Oe=!0;function se(n){typeof n<"u"&&(Oe=!!n.is_expanded,ne=n.height,n.is_state_stable&&(le=n.height),E("viewportChanged",{isStateStable:!!n.is_state_stable}));var o,i;ne!==!1?o=ne-Z+"px":o=Z?"calc(100vh - "+Z+"px)":"100vh",le!==!1?i=le-Z+"px":i=Z?"calc(100vh - "+Z+"px)":"100vh",Q("viewport-height",o),Q("viewport-stable-height",i)}var ge=!1;function $e(n){if(!B("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+f);return}ge=!!n,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:ge})}var ee="bg_color",me=null;function Xe(){return ee=="secondary_bg_color"?u.secondary_bg_color:ee=="bg_color"?u.bg_color:me}function ct(n){if(!B("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+f);return}B("6.9")||(u.bg_color&&u.bg_color==n?n="bg_color":u.secondary_bg_color&&u.secondary_bg_color==n&&(n="secondary_bg_color"));var o=null,i=null;if(n=="bg_color"||n=="secondary_bg_color")i=n;else if(B("6.9")&&(o=we(n),!o))throw console.error("[Telegram.WebApp] Header color format is invalid",n),Error("WebAppHeaderColorInvalid");if(!B("6.9")&&i!="bg_color"&&i!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",n),Error("WebAppHeaderColorKeyInvalid");ee=i,me=o,be()}var Ye=null,Le=null;function be(){(Ye!=ee||Le!=me)&&(Ye=ee,Le=me,Le?t.postEvent("web_app_set_header_color",!1,{color:me}):t.postEvent("web_app_set_header_color",!1,{color_key:ee}))}var ce="bg_color";function Ze(){return ce=="secondary_bg_color"?u.secondary_bg_color:ce=="bg_color"?u.bg_color:ce}function ut(n){if(!B("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+f);return}var o;if(n=="bg_color"||n=="secondary_bg_color")o=n;else if(o=we(n),!o)throw console.error("[Telegram.WebApp] Background color format is invalid",n),Error("WebAppBackgroundColorInvalid");ce=o,Ne()}var et=null;function Ne(){var n=Ze();et!=n&&(et=n,t.postEvent("web_app_set_background_color",!1,{color:n}))}function we(n){n+="";var o;if(o=/^\s*#([0-9a-f]{6})\s*$/i.exec(n))return"#"+o[1].toLowerCase();if(o=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(n))return("#"+o[1]+o[1]+o[2]+o[2]+o[3]+o[3]).toLowerCase();if(o=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(n)){var i=parseInt(o[1]),d=parseInt(o[2]),m=parseInt(o[3]);return i=(i<16?"0":"")+i.toString(16),d=(d<16?"0":"")+d.toString(16),m=(m<16?"0":"")+m.toString(16),"#"+i+d+m}return!1}function dt(n){n=n.replace(/[\s#]/g,""),n.length==3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var o=parseInt(n.substr(0,2),16),i=parseInt(n.substr(2,2),16),d=parseInt(n.substr(4,2),16),m=Math.sqrt(.299*(o*o)+.587*(i*i)+.114*(d*d));return m<120}function ft(n,o){typeof n!="string"&&(n=""),typeof o!="string"&&(o=""),n=n.replace(/^\s+|\s+$/g,"").split("."),o=o.replace(/^\s+|\s+$/g,"").split(".");var i=Math.max(n.length,o.length),d,m,k;for(d=0;d<i;d++)if(m=parseInt(n[d])||0,k=parseInt(o[d])||0,m!=k)return m>k?1:-1;return 0}function B(n){return ft(f,n)>=0}function pt(n){if(window.Blob)try{return new Blob([n]).size}catch{}for(var o=n.length,i=n.length-1;i>=0;i--){var d=n.charCodeAt(i);d>127&&d<=2047?o++:d>2047&&d<=65535&&(o+=2),d>=56320&&d<=57343&&i--}return o}var ht=function(){var n=!1,o={};Object.defineProperty(o,"isVisible",{set:function(A){I({is_visible:A})},get:function(){return n},enumerable:!0});var i=null;t.onEvent("back_button_pressed",d);function d(){E("backButtonClicked")}function m(){return{is_visible:n}}function k(A){return typeof A>"u"&&(A=m()),JSON.stringify(A)}function x(){return B("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+f),!1)}function z(){var A=m(),$=k(A);i!==$&&(i=$,t.postEvent("web_app_setup_back_button",!1,A))}function I(A){return x()&&(typeof A.is_visible<"u"&&(n=!!A.is_visible),z()),o}return o.onClick=function(A){return x()&&j("backButtonClicked",A),o},o.offClick=function(A){return x()&&q("backButtonClicked",A),o},o.show=function(){return I({is_visible:!0})},o.hide=function(){return I({is_visible:!1})},o}(),Z=0,vt=function(){var n=!1,o=!0,i=!1,d="CONTINUE",m=!1,k=!1,x={};Object.defineProperty(x,"text",{set:function(b){x.setParams({text:b})},get:function(){return d},enumerable:!0}),Object.defineProperty(x,"color",{set:function(b){x.setParams({color:b})},get:function(){return m||u.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(x,"textColor",{set:function(b){x.setParams({text_color:b})},get:function(){return k||u.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(x,"isVisible",{set:function(b){x.setParams({is_visible:b})},get:function(){return n},enumerable:!0}),Object.defineProperty(x,"isProgressVisible",{get:function(){return i},enumerable:!0}),Object.defineProperty(x,"isActive",{set:function(b){x.setParams({is_active:b})},get:function(){return o},enumerable:!0});var z=null;t.onEvent("main_button_pressed",ie);var I=null,A={};if(r.tgWebAppDebug){I=document.createElement("tg-main-button"),A={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var $ in A)I.style[$]=A[$];document.addEventListener("DOMContentLoaded",function b(a){document.removeEventListener("DOMContentLoaded",b),document.body.appendChild(I),I.addEventListener("click",ie,!1)})}function ie(){o&&E("mainButtonClicked")}function Se(){var b=x.color,a=x.textColor;return n?{is_visible:!0,is_active:o,is_progress_visible:i,text:d,color:b,text_color:a}:{is_visible:!1}}function Fe(b){return typeof b>"u"&&(b=Se()),JSON.stringify(b)}function Ve(){var b=Se(),a=Fe(b);z!==a&&(z=a,t.postEvent("web_app_setup_main_button",!1,b),r.tgWebAppDebug&&St(b))}function St(b){b.is_visible?(I.style.display="block",Z=48,I.style.opacity=b.is_active?"1":"0.8",I.style.cursor=b.is_active?"pointer":"auto",I.disabled=!b.is_active,I.innerText=b.text,I.style.backgroundImage=b.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",I.style.backgroundColor=b.color,I.style.color=b.text_color):(I.style.display="none",Z=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Z+"px"),se()}function rt(b){if(typeof b.text<"u"){var a=P(b.text);if(!a.length)throw console.error("[Telegram.WebApp] Main button text is required",b.text),Error("WebAppMainButtonParamInvalid");if(a.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",a),Error("WebAppMainButtonParamInvalid");d=a}if(typeof b.color<"u")if(b.color===!1||b.color===null)m=!1;else{var c=we(b.color);if(!c)throw console.error("[Telegram.WebApp] Main button color format is invalid",b.color),Error("WebAppMainButtonParamInvalid");m=c}if(typeof b.text_color<"u")if(b.text_color===!1||b.text_color===null)k=!1;else{var C=we(b.text_color);if(!C)throw console.error("[Telegram.WebApp] Main button text color format is invalid",b.text_color),Error("WebAppMainButtonParamInvalid");k=C}if(typeof b.is_visible<"u"){if(b.is_visible&&!x.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");n=!!b.is_visible}return typeof b.is_active<"u"&&(o=!!b.is_active),Ve(),x}return x.setText=function(b){return x.setParams({text:b})},x.onClick=function(b){return j("mainButtonClicked",b),x},x.offClick=function(b){return q("mainButtonClicked",b),x},x.show=function(){return x.setParams({is_visible:!0})},x.hide=function(){return x.setParams({is_visible:!1})},x.enable=function(){return x.setParams({is_active:!0})},x.disable=function(){return x.setParams({is_active:!1})},x.showProgress=function(b){return o=!!b,i=!0,Ve(),x},x.hideProgress=function(){return x.isActive||(o=!0),i=!1,Ve(),x},x.setParams=rt,x}(),ye=function(){var n=!1,o={};Object.defineProperty(o,"isVisible",{set:function(A){I({is_visible:A})},get:function(){return n},enumerable:!0});var i=null;t.onEvent("settings_button_pressed",d);function d(){E("settingsButtonClicked")}function m(){return{is_visible:n}}function k(A){return typeof A>"u"&&(A=m()),JSON.stringify(A)}function x(){return B("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+f),!1)}function z(){var A=m(),$=k(A);i!==$&&(i=$,t.postEvent("web_app_setup_settings_button",!1,A))}function I(A){return x()&&(typeof A.is_visible<"u"&&(n=!!A.is_visible),z()),o}return o.onClick=function(A){return x()&&j("settingsButtonClicked",A),o},o.offClick=function(A){return x()&&q("settingsButtonClicked",A),o},o.show=function(){return I({is_visible:!0})},o.hide=function(){return I({is_visible:!1})},o}(),gt=function(){var n={};function o(i){if(!B("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+f),n;if(i.type=="impact"){if(i.impact_style!="light"&&i.impact_style!="medium"&&i.impact_style!="heavy"&&i.impact_style!="rigid"&&i.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",i.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(i.type=="notification"){if(i.notification_type!="error"&&i.notification_type!="success"&&i.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",i.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(i.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",i.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,i),n}return n.impactOccurred=function(i){return o({type:"impact",impact_style:i})},n.notificationOccurred=function(i){return o({type:"notification",notification_type:i})},n.selectionChanged=function(){return o({type:"selection_change"})},n}(),mt=function(){var n={};function o(i,d,m){if(!B("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+f),Error("WebAppMethodUnsupported");return Ue(i,d,m),n}return n.setItem=function(i,d,m){return o("saveStorageValue",{key:i,value:d},m)},n.getItem=function(i,d){return n.getItems([i],d?function(m,k){m?d(m):d(null,k[i])}:null)},n.getItems=function(i,d){return o("getStorageValues",{keys:i},d)},n.removeItem=function(i,d){return n.removeItems([i],d)},n.removeItems=function(i,d){return o("deleteStorageValues",{keys:i},d)},n.getKeys=function(i){return o("getStorageKeys",{},i)},n}(),_e={};function bt(n,o){if(o.slug&&_e[o.slug]){var i=_e[o.slug];delete _e[o.slug],i.callback&&i.callback(o.status),E("invoiceClosed",{url:i.url,status:o.status})}}var xe=!1;function Re(n,o){if(xe){var i=xe;xe=!1;var d=null;typeof o.button_id<"u"&&(d=o.button_id),i.callback&&i.callback(d),E("popupClosed",{button_id:d})}}var ue=!1;function wt(n,o){if(ue){var i=ue,d=null;typeof o.data<"u"&&(d=o.data),i.callback&&i.callback(d)&&(ue=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),E("qrTextReceived",{data:d})}}function yt(n,o){ue=!1}function tt(n,o){if(o.req_id&&J[o.req_id]){var i=J[o.req_id];delete J[o.req_id];var d=null;typeof o.data<"u"&&(d=o.data),i.callback&&i.callback(d),E("clipboardTextReceived",{data:d})}}var Ce=!1;function _t(n,o){if(Ce){var i=Ce;Ce=!1,i.callback&&i.callback(o.status=="allowed"),E("writeAccessRequested",{status:o.status})}}function xt(n,o){var i,d,m=0,k=function(){Ue("getRequestedContact",{},function(z,I){I&&I.length?(clearTimeout(d),n(I)):(m+=50,i=setTimeout(k,m))})},x=function(){clearTimeout(i),n("")};d=setTimeout(x,o),k()}var Pe=!1;function Ct(n,o){if(Pe){var i=Pe;Pe=!1;var d=o.status=="sent",m={status:o.status};d?xt(function(k){if(k&&k.length){m.response=k,m.responseUnsafe=e.urlParseQueryString(k);for(var x in m.responseUnsafe){var z=m.responseUnsafe[x];try{(z.substr(0,1)=="{"&&z.substr(-1)=="}"||z.substr(0,1)=="["&&z.substr(-1)=="]")&&(m.responseUnsafe[x]=JSON.parse(z))}catch{}}}i.callback&&i.callback(d,m),E("contactRequested",m)},3e3):(i.callback&&i.callback(d,m),E("contactRequested",m))}}function Pt(n,o){if(o.req_id&&J[o.req_id]){var i=J[o.req_id];delete J[o.req_id];var d=null,m=null;typeof o.result<"u"&&(d=o.result),typeof o.error<"u"&&(m=o.error),i.callback&&i.callback(m,d)}}function Ue(n,o,i){if(!B("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+f),Error("WebAppMethodUnsupported");var d=de(16),m={req_id:d,method:n,params:o||{}};J[d]={callback:i},t.postEvent("web_app_invoke_custom_method",!1,m)}window.Telegram||(window.Telegram={}),Object.defineProperty(l,"initData",{get:function(){return h},enumerable:!0}),Object.defineProperty(l,"initDataUnsafe",{get:function(){return g},enumerable:!0}),Object.defineProperty(l,"version",{get:function(){return f},enumerable:!0}),Object.defineProperty(l,"platform",{get:function(){return y},enumerable:!0}),Object.defineProperty(l,"colorScheme",{get:function(){return v},enumerable:!0}),Object.defineProperty(l,"themeParams",{get:function(){return u},enumerable:!0}),Object.defineProperty(l,"isExpanded",{get:function(){return Oe},enumerable:!0}),Object.defineProperty(l,"viewportHeight",{get:function(){return(ne===!1?window.innerHeight:ne)-Z},enumerable:!0}),Object.defineProperty(l,"viewportStableHeight",{get:function(){return(le===!1?window.innerHeight:le)-Z},enumerable:!0}),Object.defineProperty(l,"isClosingConfirmationEnabled",{set:function(n){$e(n)},get:function(){return ge},enumerable:!0}),Object.defineProperty(l,"headerColor",{set:function(n){ct(n)},get:function(){return Xe()},enumerable:!0}),Object.defineProperty(l,"backgroundColor",{set:function(n){ut(n)},get:function(){return Ze()},enumerable:!0}),Object.defineProperty(l,"BackButton",{value:ht,enumerable:!0}),Object.defineProperty(l,"MainButton",{value:vt,enumerable:!0}),Object.defineProperty(l,"SettingsButton",{value:ye,enumerable:!0}),Object.defineProperty(l,"HapticFeedback",{value:gt,enumerable:!0}),Object.defineProperty(l,"CloudStorage",{value:mt,enumerable:!0}),l.setHeaderColor=function(n){l.headerColor=n},l.setBackgroundColor=function(n){l.backgroundColor=n},l.enableClosingConfirmation=function(){l.isClosingConfirmationEnabled=!0},l.disableClosingConfirmation=function(){l.isClosingConfirmationEnabled=!1},l.isVersionAtLeast=function(n){return B(n)},l.onEvent=function(n,o){j(n,o)},l.offEvent=function(n,o){q(n,o)},l.sendData=function(n){if(!n||!n.length)throw console.error("[Telegram.WebApp] Data is required",n),Error("WebAppDataInvalid");if(pt(n)>4096)throw console.error("[Telegram.WebApp] Data is too long",n),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:n})},l.switchInlineQuery=function(n,o){if(!B("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+f),Error("WebAppMethodUnsupported");if(!r.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(n=n||"",n.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",n),Error("WebAppInlineQueryInvalid");var i=[];if(o){if(!Array.isArray(o))throw console.error("[Telegram.WebApp] Choose chat types should be an array",o),Error("WebAppInlineChooseChatTypesInvalid");for(var d={users:1,bots:1,groups:1,channels:1},m=0;m<o.length;m++){var k=o[m];if(!d[k])throw console.error("[Telegram.WebApp] Choose chat type is invalid",k),Error("WebAppInlineChooseChatTypeInvalid");d[k]!=2&&(d[k]=2,i.push(k))}}t.postEvent("web_app_switch_inline_query",!1,{query:n,chat_types:i})},l.openLink=function(d,o){var i=document.createElement("A");if(i.href=d,i.protocol!="http:"&&i.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",d),Error("WebAppTgUrlInvalid");var d=i.href;o=o||{},B("6.1")?t.postEvent("web_app_open_link",!1,{url:d,try_instant_view:B("6.4")&&!!o.try_instant_view}):window.open(d,"_blank")},l.openTelegramLink=function(n){var o=document.createElement("A");if(o.href=n,o.protocol!="http:"&&o.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",n),Error("WebAppTgUrlInvalid");if(o.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",n),Error("WebAppTgUrlInvalid");var i=o.pathname+o.search;s||B("6.1")?t.postEvent("web_app_open_tg_link",!1,{path_full:i}):location.href="https://t.me"+i},l.openInvoice=function(n,o){var i=document.createElement("A"),d,m;if(i.href=n,i.protocol!="http:"&&i.protocol!="https:"||i.hostname!="t.me"||!(d=i.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(m=d[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",n),Error("WebAppInvoiceUrlInvalid");if(!B("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+f),Error("WebAppMethodUnsupported");if(_e[m])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");_e[m]={url:n,callback:o},t.postEvent("web_app_open_invoice",!1,{slug:m})},l.showPopup=function(n,o){if(!B("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+f),Error("WebAppMethodUnsupported");if(xe)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var i="",d="",m=[],k={};if(typeof n.title<"u"){if(i=P(n.title),i.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",i),Error("WebAppPopupParamInvalid");i.length>0&&(k.title=i)}if(typeof n.message<"u"&&(d=P(n.message)),!d.length)throw console.error("[Telegram.WebApp] Popup message is required",n.message),Error("WebAppPopupParamInvalid");if(d.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",d),Error("WebAppPopupParamInvalid");if(k.message=d,typeof n.buttons<"u"){if(!Array.isArray(n.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",n.buttons),Error("WebAppPopupParamInvalid");for(var x=0;x<n.buttons.length;x++){var z=n.buttons[x],I={},A="";if(typeof z.id<"u"&&(A=z.id.toString(),A.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",A),Error("WebAppPopupParamInvalid");I.id=A;var $=z.type;if(typeof $>"u"&&($="default"),I.type=$,!($=="ok"||$=="close"||$=="cancel"))if($=="default"||$=="destructive"){var ie="";if(typeof z.text<"u"&&(ie=P(z.text)),!ie.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+$,z.text),Error("WebAppPopupParamInvalid");if(ie.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",ie),Error("WebAppPopupParamInvalid");I.text=ie}else throw console.error("[Telegram.WebApp] Popup button type is invalid",$),Error("WebAppPopupParamInvalid");m.push(I)}}else m.push({id:"",type:"close"});if(m.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(m.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");k.buttons=m,xe={callback:o},t.postEvent("web_app_open_popup",!1,k)},l.showAlert=function(n,o){l.showPopup({message:n},o?function(){o()}:null)},l.showConfirm=function(n,o){l.showPopup({message:n,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},o?function(i){o(i=="ok")}:null)},l.showScanQrPopup=function(n,o){if(!B("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+f),Error("WebAppMethodUnsupported");if(ue)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var i="",d={};if(typeof n.text<"u"){if(i=P(n.text),i.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",i),Error("WebAppScanQrPopupParamInvalid");i.length>0&&(d.text=i)}ue={callback:o},t.postEvent("web_app_open_scan_qr_popup",!1,d)},l.closeScanQrPopup=function(){if(!B("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+f),Error("WebAppMethodUnsupported");ue=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},l.readTextFromClipboard=function(n){if(!B("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+f),Error("WebAppMethodUnsupported");var o=de(16),i={req_id:o};J[o]={callback:n},t.postEvent("web_app_read_text_from_clipboard",!1,i)},l.requestWriteAccess=function(n){if(!B("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+f),Error("WebAppMethodUnsupported");if(Ce)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Ce={callback:n},t.postEvent("web_app_request_write_access")},l.requestContact=function(n){if(!B("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+f),Error("WebAppMethodUnsupported");if(Pe)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Pe={callback:n},t.postEvent("web_app_request_phone")},l.invokeCustomMethod=function(n,o,i){Ue(n,o,i)},l.ready=function(){t.postEvent("web_app_ready")},l.expand=function(){t.postEvent("web_app_expand")},l.close=function(){t.postEvent("web_app_close")},window.Telegram.WebApp=l,be(),Ne(),se(),r.tgWebAppShowSettings&&ye.show(),window.addEventListener("resize",p),s&&document.addEventListener("click",_),t.onEvent("theme_changed",N),t.onEvent("viewport_changed",K),t.onEvent("invoice_closed",bt),t.onEvent("popup_closed",Re),t.onEvent("qr_text_received",wt),t.onEvent("scan_qr_popup_closed",yt),t.onEvent("clipboard_text_received",tt),t.onEvent("write_access_requested",_t),t.onEvent("phone_requested",Ct),t.onEvent("custom_method_invoked",Pt),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport")})();Object.defineProperty(st,"__esModule",{value:!0});st.WebApp=void 0;var Co=window;st.WebApp=Co.Telegram.WebApp;Object.defineProperty(tr,"__esModule",{value:!0});var Po=st,kt=tr.default=Po.WebApp;class Dt extends Error{constructor(t,r,s){super(r,{cause:s}),this.type=t,Object.setPrototypeOf(this,Dt.prototype)}}function Bt(e,t,r){return new Dt(e,t,r)}const So="ERR_UNEXPECTED_TYPE",rr="ERR_PARSE";function Qe(){return Bt(So,"Value has unexpected type")}class zt{constructor(t,r,s){this.parser=t,this.isOptional=r,this.type=s}parse(t){if(!(this.isOptional&&t===void 0))try{return this.parser(t)}catch(r){throw Bt(rr,`Unable to parse value${this.type?` as ${this.type}`:""}`,r)}}optional(){return this.isOptional=!0,this}}function ze(e,t){return()=>new zt(e,!1,t)}const he=ze(e=>{if(typeof e=="boolean")return e;const t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;throw Qe()},"boolean");function nr(e,t){const r={};for(const s in e){const l=e[s];if(!l)continue;let h,g;if(typeof l=="function"||"parse"in l)h=s,g=typeof l=="function"?l:l.parse.bind(l);else{const{type:u}=l;h=l.from||s,g=typeof u=="function"?u:u.parse.bind(u)}try{const u=g(t(h));u!==void 0&&(r[s]=u)}catch(u){throw Bt(rr,`Unable to parse field "${s}"`,u)}}return r}function $t(e){let t=e;if(typeof t=="string"&&(t=JSON.parse(t)),typeof t!="object"||t===null||Array.isArray(t))throw Qe();return t}function ae(e,t){return new zt(r=>{const s=$t(r);return nr(e,l=>s[l])},!1,t)}const Be=ze(e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);if(!Number.isNaN(t))return t}throw Qe()},"number");function Ao(e){return/^#[\da-f]{6}$/i.test(e)}function Eo(e){return/^#[\da-f]{3}$/i.test(e)}function To(e){const t=e.replace(/\s/g,"").toLowerCase();if(Ao(t))return t;if(Eo(t)){let s="#";for(let l=0;l<3;l+=1)s+=t[1+l].repeat(2);return s}const r=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!r)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return r.slice(1).reduce((s,l)=>{const h=parseInt(l,10).toString(16);return s+(h.length===1?"0":"")+h},"#")}const O=ze(e=>{if(typeof e=="string"||typeof e=="number")return e.toString();throw Qe()},"string"),or=ze(e=>To(O().parse(e)),"rgb");ae({req_id:O(),data:e=>e===null?e:O().optional().parse(e)}),ae({req_id:O(),result:e=>e,error:O().optional()}),ae({slug:O(),status:O()}),ae({status:O()}),ae({data:O().optional()}),ae({theme_params:e=>{const t=or().optional();return Object.entries($t(e)).reduce((r,[s,l])=>(r[s]=t.parse(l),r),{})}}),ae({height:Be(),width:e=>e==null?window.innerWidth:Be().parse(e),is_state_stable:he(),is_expanded:he()}),ae({status:O()});const Wo=ze(e=>e instanceof Date?e:new Date(Be().parse(e)*1e3),"Date");function ar(e,t){return new zt(r=>{if(typeof r!="string"&&!(r instanceof URLSearchParams))throw Qe();const s=typeof r=="string"?new URLSearchParams(r):r;return nr(e,l=>{const h=s.get(l);return h===null?void 0:h})},!1,t)}const ko=ae({id:Be(),type:O(),title:O(),photoUrl:{type:O().optional(),from:"photo_url"},username:O().optional()},"Chat").optional(),Kt=ae({addedToAttachmentMenu:{type:he().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:he().optional(),from:"allows_write_to_pm"},firstName:{type:O(),from:"first_name"},id:Be(),isBot:{type:he().optional(),from:"is_bot"},isPremium:{type:he().optional(),from:"is_premium"},languageCode:{type:O().optional(),from:"language_code"},lastName:{type:O().optional(),from:"last_name"},photoUrl:{type:O().optional(),from:"photo_url"},username:O().optional()},"User").optional();function Io(){return ar({authDate:{type:Wo(),from:"auth_date"},canSendAfter:{type:Be().optional(),from:"can_send_after"},chat:ko,chatInstance:{type:O().optional(),from:"chat_instance"},chatType:{type:O().optional(),from:"chat_type"},hash:O(),queryId:{type:O().optional(),from:"query_id"},receiver:Kt,startParam:{type:O().optional(),from:"start_param"},user:Kt},"InitData")}function Mo(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Oo(e){return e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}const Ro=ze(e=>{const t=or().optional();return Object.entries($t(e)).reduce((r,[s,l])=>(r[Mo(s)]=t.parse(l),r),{})},"ThemeParams");function ir(e){return ar({botInline:{type:he().optional(),from:"tgWebAppBotInline"},initData:{type:Io().optional(),from:"tgWebAppData"},initDataRaw:{type:O().optional(),from:"tgWebAppData"},platform:{type:O(),from:"tgWebAppPlatform"},showSettings:{type:he().optional(),from:"tgWebAppShowSettings"},startParam:{type:O().optional(),from:"tgWebAppStartParam"},themeParams:{type:Ro(),from:"tgWebAppThemeParams"},version:{type:O(),from:"tgWebAppVersion"}}).parse(e)}function lr(e){return ir(e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function Fo(){return lr(window.location.href)}function Do(){return performance.getEntriesByType("navigation")[0]}function Bo(){const e=Do();if(!e)throw new Error("Unable to get first navigation entry.");return lr(e.name)}function sr(e){return`tma.js/${e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}`}function zo(e,t){sessionStorage.setItem(sr(e),JSON.stringify(t))}function $o(e){const t=sessionStorage.getItem(sr(e));try{return t?JSON.parse(t):void 0}catch{}}function Lo(){return ir($o("launchParams")||"")}function No(e){return JSON.stringify(Object.fromEntries(Object.entries(e).map(([t,r])=>[Oo(t),r])))}function Uo(e){const{initDataRaw:t,themeParams:r,platform:s,version:l,showSettings:h,startParam:g,botInline:u}=e,v=new URLSearchParams;return v.set("tgWebAppPlatform",s),v.set("tgWebAppThemeParams",No(r)),v.set("tgWebAppVersion",l),t&&v.set("tgWebAppData",t),g&&v.set("tgWebAppStartParam",g),typeof h=="boolean"&&v.set("tgWebAppShowSettings",h?"1":"0"),typeof u=="boolean"&&v.set("tgWebAppBotInline",u?"1":"0"),v.toString()}function Vo(e){zo("launchParams",Uo(e))}function Ho(){for(const e of[Fo,Bo,Lo])try{const t=e();return Vo(t),t}catch{}throw new Error("Unable to retrieve launch parameters from any known source.")}const jo="https://dashboard.edgematrix.pro/",qo="#auth",Jo=500,Ko="authorize-ready",Go="authorize-setup",Qo="authorize-success",Xo="authorize-failure",Yo="user-interrupt";class Zo{constructor(){De(this,"_emcWindow");De(this,"_eventHandler")}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}_getEventHandler(t,r){return async s=>{var h;if(s.origin!==t.origin){console.warn(`expected origin '${t.origin}', got '${s.origin}'`);return}const l=s.data;switch(l.type){case Ko:{const g={type:Go};(h=this._emcWindow)==null||h.postMessage(g,t.origin);break}case Qo:try{await this._handleSuccess(l,r.onSuccess)}catch(g){this._handleFailure(g.message,r.onError)}break;case Xo:this._handleFailure(l.data,r.onError);break;default:console.info(`unknow message type '${l.type}'`);break}}}async _handleSuccess(t,r){this._emcWindow&&this._emcWindow.close(),this._removeEventListener(),delete this._emcWindow,typeof r=="function"&&r(t)}_handleFailure(t,r){this._emcWindow&&!this._emcWindow.closed&&this._emcWindow.close(),typeof r=="function"&&r(t),this._removeEventListener(),delete this._emcWindow}signIn(t){const r=new URL(t.provider||jo);r.hash=t.endpoint||qo,this._emcWindow&&this._emcWindow.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(r,t),window.addEventListener("message",this._eventHandler),this._emcWindow=window.open(r.toString(),"emcWindow",t.windowOpenerFeatures);const s=()=>{this._emcWindow&&(this._emcWindow.closed?this._handleFailure(Yo,t.onError):setTimeout(s,Jo))};s()}}const ea=new Zo,Gt="https://emchub.ai/";function ta(){function e(u){const v=new URLSearchParams;return Object.entries(u).forEach(([f,y])=>{v.append(f,y)}),v.toString()}function t(u){return typeof u!="string"?"":typeof decodeURIComponent!="function"||typeof encodeURIComponent!="function"||decodeURIComponent(u)!==u?u:encodeURIComponent(u)}function r(u){return new Promise(v=>{const f=u.provider||Gt,y=u.endpoint||"#/auth",S=u.windowOpenerFeatures||"popup,width=480,height=720",T=u.client,H=t(u.redirect||"0"),R=u.scope||"read",N=e({launch:"popup",client:T,redirect:H,scope:R}),M=y.indexOf("?")>-1?"&":"?",K=`${y}${M}${N}`,p=P=>v(["",P.data]),_=P=>v([P,null]);if(!T)throw new Error("Invalid 'client'");ea.signIn({provider:f,endpoint:K,windowOpenerFeatures:S,onSuccess:p,onError:_})})}async function s(u){if(typeof window>"u")return["Not found window",null];if(!window.location)return["Not found window.location",null];try{const v=u.provider||Gt,f=u.endpoint||"#/auth",y=u.client,S=t(u.redirect),T=u.scope||"read",H=u.state||"",R=new URL(v),N=e({launch:"redirect",client:y,redirect:S,scope:T,state:H}),M=f.indexOf("?")>-1?"&":"?";if(R.hash=`${f}${M}${N}`,!y)throw new Error("Invalid 'client'");if(!S)throw new Error("Invalid 'redirect'");return["",{url:R.toString()}]}catch(v){return console.error("Error sign in redirect",v),[v.message,null]}}function l(u,v){let f=new RegExp(`[?&]${u}=([^&?#/]+)`,"g"),y=null,S=[];for(;(y=f.exec(v))!==null;)S.push(y[1]);return S}function h(u,v){const f=l(u,v);return f[f.length-1]}async function g(){const u=h("code",location.href);return u?["",{code:u}]:["Not found 'code' value",null]}return{signInWithPopup:r,signInWithRedirect:s,getRedirectResult:g}}const{signInWithPopup:ra,signInWithRedirect:na,getRedirectResult:oa}=ta();function aa(e){let t=window.localStorage.getItem(e);if(!t)return t;if(t.startsWith("{")||t.startsWith("["))try{return JSON.parse(t)}catch{return t}else return t}function ia(e,t){typeof t=="object"&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)}function la(e){window.localStorage.removeItem(e)}function sa(e){let t=window.sessionStorage.getItem(e);if(!t)return t;if(t.startsWith("{")||t.startsWith("["))try{return JSON.parse(t)}catch{return t}else return t}function ca(e,t){typeof t=="object"&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)}function ua(e){window.sessionStorage.removeItem(e)}function da(e){if(!e)return null;if(typeof e=="object")return e;try{return JSON.parse(e)}catch{return null}}function fa(e,t){return typeof e!="number"?e:parseFloat(e.toFixed(t||2))}function pa(e="",t=10){return e.length<t*2?e:typeof e.slice=="function"?`${e.slice(0,t)}...${e.slice(-t)}`:(console.warn("the value is not a srting",e),"")}function ha(e="",t=10){return e.length<t*2?e:typeof e.slice=="function"?`${e.slice(0,t)}...${e.slice(-t)}`:(console.warn("the value is not a srting",e),"")}function va(e){let t=0,r,s;if(e.length===0)return t;for(r=0;r<e.length;r++)s=e.charCodeAt(r),t=(t<<5)-t+s,t|=0;return t}const It={getLocalStorage:aa,setLocalStorage:ia,removeLocalStorage:la,getSessionStorage:sa,setSessionStorage:ca,removeSessionStorage:ua,parseJSON:da,toFixed:fa,textOverflow:pa,formatAddress:ha,hashCode:va},te={GET:"GET",POST:"POST",POST_JSON:"POST_JSON",POST_FORMDATA:"POST_FORMDATA",DELETE:"DELETE",PUT:"PUT"},ga={baseURL:"https://emchub.ai"},Mt="emchub.session",Me=class Me{constructor(t){De(this,"client");De(this,"session",null);this.client=new xn(t||ga),this.client.interceptors.response.use(r=>r,r=>r.response||{}),this.initSession()}static getInstance(){return Me._instance||(Me._instance=new Me),Me._instance}initSession(){const t=It.getLocalStorage(Mt);t&&this.setSession(t)}clearSession(){this.session=null,It.removeLocalStorage(Mt)}setSession(t){t&&t.token&&(It.setLocalStorage(Mt,t),this.session=t)}_formatOptions(t,r){if(typeof r.data=="object"&&!(r.data instanceof window.FormData)){const s={};Object.keys(r.data).forEach(l=>{r.data[l]!==void 0?s[l]=r.data[l]:console.info(`remove undefined attr:${l}`)}),r.data=s}return typeof r.headers!="object"&&(r.headers={}),t===te.GET?(r.method="GET",r.data&&(r.params=r.data,r.paramsSerializer={serialize:s=>Object.keys(s).map(l=>`${l}=${s[l]}`).join("&")},delete r.data)):t===te.POST?(r.method="POST",r.headers["content-type"]="application/x-www-form-urlencoded",typeof r.data=="object"&&(r.data=Object.keys(r.data).map(s=>`${s}=${encodeURIComponent(r.data[s])}`).join("&"))):t===te.POST_JSON?(r.method="POST",r.headers["content-type"]="application/json",r.data=typeof r.data=="string"?r.data:JSON.stringify(r.data)):t===te.POST_FORMDATA?(r.method="POST",r.headers["content-type"]="multipart/form-data"):t===te.DELETE?(r.method="DELETE",r.headers["content-type"]="application/json"):t===te.PUT&&(r.method="PUT",r.headers["content-type"]="application/json"),r}_handler(t){return r=>{let s={_result:0,_desc:""};if(!r.status)s._result=99,s._desc="Network error";else if(r.status!==200)s._result=96,s._desc=`Server Error[${r.status}]`;else if(r.headers["content-type"].includes("application/json"))if(typeof r.data=="string")try{s=JSON.parse(r.data)}catch{s._result=98,s._desc="Failed to parse network data"}else typeof r.data=="object"&&(s=r.data);else s._result=97,s._desc="Network data format error";return s}}get(t){var s;const r=this._formatOptions(te.GET,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}post(t){var s;const r=this._formatOptions(te.POST,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}postFormData(t){var s;const r=this._formatOptions(te.POST_FORMDATA,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}postJSON(t){var s;const r=this._formatOptions(te.POST_JSON,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}delete(t){var s;const r=this._formatOptions(te.DELETE,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}put(t){var s;const r=this._formatOptions(te.PUT,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}};De(Me,"_instance");let Ft=Me;const ma=Ft.getInstance(),ba={class:"page"},wa=ve({__name:"index",setup(e){const t=V(kt.platform),r=kt.platform!=="unknown",s=V(""),l=V(""),h=xo(),g=wn(),u=_o();async function v(){if(!l.value){h.warning({title:"Failed",content:"Please open in the mini app"});return}const N=await ma.postJSON({url:"https://dev.emchub.ai/api/v1/auth/telegram",data:{raw:l.value}});s.value=JSON.stringify(N.data)}async function f(){const N={client:"1234"},[M,K]=await ra(N);if(M)return window.alert(M);const p=K.code;window.alert(`code: ${p}`)}async function y(){const N={client:"1234",redirect:location.href};sessionStorage.setItem("redrect","1");const[M,K]=await na(N);if(M)return window.alert(M);location.href=K.url}Yt(async()=>{if(sessionStorage.getItem("redrect")){sessionStorage.removeItem("redrect");const[M,K]=await oa();if(M)return window.alert(M);const p=K.code;window.alert(`code: ${p}`)}if(r){const{initDataRaw:M}=Ho();M&&(l.value=M)}});function S(){g.push({name:"test"})}function T(){kt.showAlert("Hey there!")}function H(){sessionStorage.setItem("kk","hello?")}function R(){const N=sessionStorage.getItem("kk");u.info(N||"none")}return(N,M)=>(yn(),bn("div",ba,[jt("div",null,"platform: "+qt(t.value),1),jt("div",null,"Telegram Mini App User: "+qt(s.value),1),fe(pe(yo),{type:"textarea",value:l.value},null,8,["value"]),fe(pe(Ie),{type:"primary",size:"large",strong:"",onClick:v},{default:We(()=>[ke("Sign for telegram")]),_:1}),fe(pe(Ie),{type:"primary",size:"large",strong:"",onClick:f},{default:We(()=>[ke("Go EMC Hub Popup")]),_:1}),fe(pe(Ie),{type:"primary",size:"large",strong:"",onClick:y},{default:We(()=>[ke("Go EMC Hub Redirect")]),_:1}),fe(pe(Ie),{type:"primary",size:"large",strong:"",onClick:T},{default:We(()=>[ke("MiniAppAlert")]),_:1}),fe(pe(Ie),{type:"primary",size:"large",strong:"",onClick:H},{default:We(()=>[ke("Test Set Window.SessionStorage")]),_:1}),fe(pe(Ie),{type:"primary",size:"large",strong:"",onClick:R},{default:We(()=>[ke("Test Get Window.SessionStorage")]),_:1}),fe(pe(Ie),{type:"primary",size:"large",style:{"margin-top":"24px"},strong:"",onClick:S},{default:We(()=>[ke("Go Next Page")]),_:1})]))}}),Ca=_n(wa,[["__scopeId","data-v-5f6fabd7"]]);export{Ca as default};
