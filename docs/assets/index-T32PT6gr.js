var me={},Z={};(function(){var W={},p="";try{p=location.hash.toString()}catch{}var _=H(p),q=G("initParams");if(q)for(var s in q)typeof _[s]>"u"&&(_[s]=q[s]);U("initParams",_);var I=!1,k;try{if(I=window.parent!=null&&window!=window.parent,I){window.addEventListener("message",function(i){if(i.source===window.parent){try{var u=JSON.parse(i.data)}catch{return}if(!(!u||!u.eventType))if(u.eventType=="set_custom_style")i.origin==="https://web.telegram.org"&&(k.innerHTML=u.eventData);else if(u.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else E(u.eventType,u.eventData)}}),k=document.createElement("style"),document.head.appendChild(k);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function w(i){try{return i=i.replace(/\+/g,"%20"),decodeURIComponent(i)}catch{return i}}function H(i){i=i.replace(/^#/,"");var u={};if(!i.length)return u;if(i.indexOf("=")<0&&i.indexOf("?")<0)return u._path=w(i),u;var c=i.indexOf("?");if(c>=0){var b=i.substr(0,c);u._path=w(b),i=i.substr(c+1)}var A=m(i);for(var C in A)u[C]=A[C];return u}function m(i){var u={};if(!i.length)return u;var c=i.split("&"),b,A,C,B;for(b=0;b<c.length;b++)A=c[b].split("="),C=w(A[0]),B=A[1]==null?null:w(A[1]),u[C]=B;return u}function z(i,u){var c=i.indexOf("#");if(c<0)return i+"#"+u;var b=i.substr(c+1);return b.indexOf("=")>=0||b.indexOf("?")>=0?i+"&"+u:b.length>0?i+"?"+u:i+u}function K(i,u,c){if(u||(u=function(){}),c===void 0&&(c=""),console.log("[Telegram.WebView] > postEvent",i,c),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(i,JSON.stringify(c)),u();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:i,eventData:c})),u();else if(I)try{var b="https://web.telegram.org";b="*",window.parent.postMessage(JSON.stringify({eventType:i,eventData:c}),b),u()}catch(A){u(A)}else u({notAvailable:!0})}function E(i,u){console.log("[Telegram.WebView] < receiveEvent",i,u),$(i,function(c){c(i,u)})}function $(i,u){var c=W[i];if(!(c===void 0||!c.length))for(var b=0;b<c.length;b++)try{u(c[b])}catch{}}function O(i,u){W[i]===void 0&&(W[i]=[]);var c=W[i].indexOf(u);c===-1&&W[i].push(u)}function Y(i,u){if(W[i]!==void 0){var c=W[i].indexOf(u);c!==-1&&W[i].splice(c,1)}}function U(i,u){try{return window.sessionStorage.setItem("__telegram__"+i,JSON.stringify(u)),!0}catch{}return!1}function G(i){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+i))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:_,isIframe:I,onEvent:O,offEvent:Y,postEvent:K,receiveEvent:E,callEventCallbacks:$},window.Telegram.Utils={urlSafeDecode:w,urlParseQueryString:m,urlParseHashParams:H,urlAppendHashParams:z,sessionStorageSet:U,sessionStorageGet:G},window.TelegramGameProxy_receiveEvent=E,window.TelegramGameProxy={receiveEvent:E}})();(function(){var W=window.Telegram.Utils,p=window.Telegram.WebView,_=p.initParams,q=p.isIframe,s={},I="",k={},w={},H="light",m="6.0",z="unknown";if(_.tgWebAppData&&_.tgWebAppData.length){I=_.tgWebAppData,k=W.urlParseQueryString(I);for(var K in k){var E=k[K];try{(E.substr(0,1)=="{"&&E.substr(-1)=="}"||E.substr(0,1)=="["&&E.substr(-1)=="]")&&(k[K]=JSON.parse(E))}catch{}}}if(_.tgWebAppThemeParams&&_.tgWebAppThemeParams.length){var $=_.tgWebAppThemeParams;try{var O=JSON.parse($);O&&ee(O)}catch{}}var O=W.sessionStorageGet("themeParams");O&&ee(O),_.tgWebAppVersion&&(m=_.tgWebAppVersion),_.tgWebAppPlatform&&(z=_.tgWebAppPlatform);function Y(e,r){r.theme_params&&(ee(r.theme_params),window.Telegram.WebApp.MainButton.setParams({}),oe(),b("themeChanged"))}var U=window.innerHeight;function G(e,r){r.height&&(window.removeEventListener("resize",i),re(r))}function i(e){U!=window.innerHeight&&(U=window.innerHeight,b("viewportChanged",{isStateStable:!0}))}function u(e){if(!(e.metaKey||e.ctrlKey)){for(var r=e.target;r.tagName!="A"&&r.parentNode;)r=r.parentNode;r.tagName=="A"&&r.target!="_blank"&&(r.protocol=="http:"||r.protocol=="https:")&&r.hostname=="t.me"&&(s.openTgLink(r.href),e.preventDefault())}}function c(e){return e.toString().replace(/^\s+|\s+$/g,"")}function b(e){var r=Array.prototype.slice.call(arguments);e=r.shift(),p.callEventCallbacks("webview:"+e,function(t){t.apply(s,r)})}function A(e,r){p.onEvent("webview:"+e,r)}function C(e,r){p.offEvent("webview:"+e,r)}function B(e,r){var t=document.documentElement;t&&t.style&&t.style.setProperty&&t.style.setProperty("--tg-"+e,r)}function ee(e){e.bg_color=="#1c1c1d"&&e.bg_color==e.secondary_bg_color&&(e.secondary_bg_color="#2c2c2e");var r;for(var t in e)(r=R(e[t]))&&(w[t]=r,t=="bg_color"&&(H=Ae(r)?"dark":"light",B("color-scheme",H)),t="theme-"+t.split("_").join("-"),B(t,r));W.sessionStorageSet("themeParams",w)}var T={};function se(e){for(var r=100;--r;){for(var t="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=n.length,d=0;d<e;d++)t+=n[Math.floor(Math.random()*o)];if(!T[t])return T[t]={},t}throw Error("WebAppCallbackIdGenerateFailed")}var N=!1,F=!1,le=!0;function re(e){typeof e<"u"&&(le=!!e.is_expanded,N=e.height,e.is_state_stable&&(F=e.height),b("viewportChanged",{isStateStable:!!e.is_state_stable}));var r,t;N!==!1?r=N-P+"px":r=P?"calc(100vh - "+P+"px)":"100vh",F!==!1?t=F-P+"px":t=P?"calc(100vh - "+P+"px)":"100vh",B("viewport-height",r),B("viewport-stable-height",t)}var te=!1;function he(e){if(!v("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+m);return}te=!!e,p.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:te})}var j="bg_color",L=null;function _e(){return j=="secondary_bg_color"?w.secondary_bg_color:j=="bg_color"?w.bg_color:L}function we(e){if(!v("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+m);return}v("6.9")||(w.bg_color&&w.bg_color==e?e="bg_color":w.secondary_bg_color&&w.secondary_bg_color==e&&(e="secondary_bg_color"));var r=null,t=null;if(e=="bg_color"||e=="secondary_bg_color")t=e;else if(v("6.9")&&(r=R(e),!r))throw console.error("[Telegram.WebApp] Header color format is invalid",e),Error("WebAppHeaderColorInvalid");if(!v("6.9")&&t!="bg_color"&&t!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",e),Error("WebAppHeaderColorKeyInvalid");j=t,L=r,ue()}var pe=null,ne=null;function ue(){(pe!=j||ne!=L)&&(pe=j,ne=L,ne?p.postEvent("web_app_set_header_color",!1,{color:L}):p.postEvent("web_app_set_header_color",!1,{color_key:j}))}var X="bg_color";function fe(){return X=="secondary_bg_color"?w.secondary_bg_color:X=="bg_color"?w.bg_color:X}function ye(e){if(!v("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+m);return}var r;if(e=="bg_color"||e=="secondary_bg_color")r=e;else if(r=R(e),!r)throw console.error("[Telegram.WebApp] Background color format is invalid",e),Error("WebAppBackgroundColorInvalid");X=r,oe()}var ce=null;function oe(){var e=fe();ce!=e&&(ce=e,p.postEvent("web_app_set_background_color",!1,{color:e}))}function R(e){e+="";var r;if(r=/^\s*#([0-9a-f]{6})\s*$/i.exec(e))return"#"+r[1].toLowerCase();if(r=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(e))return("#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]).toLowerCase();if(r=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(e)){var t=parseInt(r[1]),n=parseInt(r[2]),o=parseInt(r[3]);return t=(t<16?"0":"")+t.toString(16),n=(n<16?"0":"")+n.toString(16),o=(o<16?"0":"")+o.toString(16),"#"+t+n+o}return!1}function Ae(e){e=e.replace(/[\s#]/g,""),e.length==3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var r=parseInt(e.substr(0,2),16),t=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16),o=Math.sqrt(.299*(r*r)+.587*(t*t)+.114*(n*n));return o<120}function We(e,r){typeof e!="string"&&(e=""),typeof r!="string"&&(r=""),e=e.replace(/^\s+|\s+$/g,"").split("."),r=r.replace(/^\s+|\s+$/g,"").split(".");var t=Math.max(e.length,r.length),n,o,d;for(n=0;n<t;n++)if(o=parseInt(e[n])||0,d=parseInt(r[n])||0,o!=d)return o>d?1:-1;return 0}function v(e){return We(m,e)>=0}function Pe(e){if(window.Blob)try{return new Blob([e]).size}catch{}for(var r=e.length,t=e.length-1;t>=0;t--){var n=e.charCodeAt(t);n>127&&n<=2047?r++:n>2047&&n<=65535&&(r+=2),n>=56320&&n<=57343&&t--}return r}var Ee=function(){var e=!1,r={};Object.defineProperty(r,"isVisible",{set:function(f){g({is_visible:f})},get:function(){return e},enumerable:!0});var t=null;p.onEvent("back_button_pressed",n);function n(){b("backButtonClicked")}function o(){return{is_visible:e}}function d(f){return typeof f>"u"&&(f=o()),JSON.stringify(f)}function l(){return v("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+m),!1)}function h(){var f=o(),y=d(f);t!==y&&(t=y,p.postEvent("web_app_setup_back_button",!1,f))}function g(f){return l()&&(typeof f.is_visible<"u"&&(e=!!f.is_visible),h()),r}return r.onClick=function(f){return l()&&A("backButtonClicked",f),r},r.offClick=function(f){return l()&&C("backButtonClicked",f),r},r.show=function(){return g({is_visible:!0})},r.hide=function(){return g({is_visible:!1})},r}(),P=0,Ce=function(){var e=!1,r=!0,t=!1,n="CONTINUE",o=!1,d=!1,l={};Object.defineProperty(l,"text",{set:function(a){l.setParams({text:a})},get:function(){return n},enumerable:!0}),Object.defineProperty(l,"color",{set:function(a){l.setParams({color:a})},get:function(){return o||w.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(l,"textColor",{set:function(a){l.setParams({text_color:a})},get:function(){return d||w.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(l,"isVisible",{set:function(a){l.setParams({is_visible:a})},get:function(){return e},enumerable:!0}),Object.defineProperty(l,"isProgressVisible",{get:function(){return t},enumerable:!0}),Object.defineProperty(l,"isActive",{set:function(a){l.setParams({is_active:a})},get:function(){return r},enumerable:!0});var h=null;p.onEvent("main_button_pressed",S);var g=null,f={};if(_.tgWebAppDebug){g=document.createElement("tg-main-button"),f={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var y in f)g.style[y]=f[y];document.addEventListener("DOMContentLoaded",function a(x){document.removeEventListener("DOMContentLoaded",a),document.body.appendChild(g),g.addEventListener("click",S,!1)})}function S(){r&&b("mainButtonClicked")}function be(){var a=l.color,x=l.textColor;return e?{is_visible:!0,is_active:r,is_progress_visible:t,text:n,color:a,text_color:x}:{is_visible:!1}}function Ue(a){return typeof a>"u"&&(a=be()),JSON.stringify(a)}function ae(){var a=be(),x=Ue(a);h!==x&&(h=x,p.postEvent("web_app_setup_main_button",!1,a),_.tgWebAppDebug&&Ne(a))}function Ne(a){a.is_visible?(g.style.display="block",P=48,g.style.opacity=a.is_active?"1":"0.8",g.style.cursor=a.is_active?"pointer":"auto",g.disabled=!a.is_active,g.innerText=a.text,g.style.backgroundImage=a.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",g.style.backgroundColor=a.color,g.style.color=a.text_color):(g.style.display="none",P=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=P+"px"),re()}function Fe(a){if(typeof a.text<"u"){var x=c(a.text);if(!x.length)throw console.error("[Telegram.WebApp] Main button text is required",a.text),Error("WebAppMainButtonParamInvalid");if(x.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",x),Error("WebAppMainButtonParamInvalid");n=x}if(typeof a.color<"u")if(a.color===!1||a.color===null)o=!1;else{var ge=R(a.color);if(!ge)throw console.error("[Telegram.WebApp] Main button color format is invalid",a.color),Error("WebAppMainButtonParamInvalid");o=ge}if(typeof a.text_color<"u")if(a.text_color===!1||a.text_color===null)d=!1;else{var ve=R(a.text_color);if(!ve)throw console.error("[Telegram.WebApp] Main button text color format is invalid",a.text_color),Error("WebAppMainButtonParamInvalid");d=ve}if(typeof a.is_visible<"u"){if(a.is_visible&&!l.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");e=!!a.is_visible}return typeof a.is_active<"u"&&(r=!!a.is_active),ae(),l}return l.setText=function(a){return l.setParams({text:a})},l.onClick=function(a){return A("mainButtonClicked",a),l},l.offClick=function(a){return C("mainButtonClicked",a),l},l.show=function(){return l.setParams({is_visible:!0})},l.hide=function(){return l.setParams({is_visible:!1})},l.enable=function(){return l.setParams({is_active:!0})},l.disable=function(){return l.setParams({is_active:!1})},l.showProgress=function(a){return r=!!a,t=!0,ae(),l},l.hideProgress=function(){return l.isActive||(r=!0),t=!1,ae(),l},l.setParams=Fe,l}(),de=function(){var e=!1,r={};Object.defineProperty(r,"isVisible",{set:function(f){g({is_visible:f})},get:function(){return e},enumerable:!0});var t=null;p.onEvent("settings_button_pressed",n);function n(){b("settingsButtonClicked")}function o(){return{is_visible:e}}function d(f){return typeof f>"u"&&(f=o()),JSON.stringify(f)}function l(){return v("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+m),!1)}function h(){var f=o(),y=d(f);t!==y&&(t=y,p.postEvent("web_app_setup_settings_button",!1,f))}function g(f){return l()&&(typeof f.is_visible<"u"&&(e=!!f.is_visible),h()),r}return r.onClick=function(f){return l()&&A("settingsButtonClicked",f),r},r.offClick=function(f){return l()&&C("settingsButtonClicked",f),r},r.show=function(){return g({is_visible:!0})},r.hide=function(){return g({is_visible:!1})},r}(),Te=function(){var e={};function r(t){if(!v("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+m),e;if(t.type=="impact"){if(t.impact_style!="light"&&t.impact_style!="medium"&&t.impact_style!="heavy"&&t.impact_style!="rigid"&&t.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",t.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(t.type=="notification"){if(t.notification_type!="error"&&t.notification_type!="success"&&t.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",t.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(t.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",t.type),Error("WebAppHapticFeedbackTypeInvalid");return p.postEvent("web_app_trigger_haptic_feedback",!1,t),e}return e.impactOccurred=function(t){return r({type:"impact",impact_style:t})},e.notificationOccurred=function(t){return r({type:"notification",notification_type:t})},e.selectionChanged=function(){return r({type:"selection_change"})},e}(),xe=function(){var e={};function r(t,n,o){if(!v("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+m),Error("WebAppMethodUnsupported");return ie(t,n,o),e}return e.setItem=function(t,n,o){return r("saveStorageValue",{key:t,value:n},o)},e.getItem=function(t,n){return e.getItems([t],n?function(o,d){o?n(o):n(null,d[t])}:null)},e.getItems=function(t,n){return r("getStorageValues",{keys:t},n)},e.removeItem=function(t,n){return e.removeItems([t],n)},e.removeItems=function(t,n){return r("deleteStorageValues",{keys:t},n)},e.getKeys=function(t){return r("getStorageKeys",{},t)},e}(),V={};function ke(e,r){if(r.slug&&V[r.slug]){var t=V[r.slug];delete V[r.slug],t.callback&&t.callback(r.status),b("invoiceClosed",{url:t.url,status:r.status})}}var D=!1;function Ie(e,r){if(D){var t=D;D=!1;var n=null;typeof r.button_id<"u"&&(n=r.button_id),t.callback&&t.callback(n),b("popupClosed",{button_id:n})}}var M=!1;function Se(e,r){if(M){var t=M,n=null;typeof r.data<"u"&&(n=r.data),t.callback&&t.callback(n)&&(M=!1,p.postEvent("web_app_close_scan_qr_popup",!1)),b("qrTextReceived",{data:n})}}function Oe(e,r){M=!1}function Be(e,r){if(r.req_id&&T[r.req_id]){var t=T[r.req_id];delete T[r.req_id];var n=null;typeof r.data<"u"&&(n=r.data),t.callback&&t.callback(n),b("clipboardTextReceived",{data:n})}}var Q=!1;function Me(e,r){if(Q){var t=Q;Q=!1,t.callback&&t.callback(r.status=="allowed"),b("writeAccessRequested",{status:r.status})}}function qe(e,r){var t,n,o=0,d=function(){ie("getRequestedContact",{},function(h,g){g&&g.length?(clearTimeout(n),e(g)):(o+=50,t=setTimeout(d,o))})},l=function(){clearTimeout(t),e("")};n=setTimeout(l,r),d()}var J=!1;function He(e,r){if(J){var t=J;J=!1;var n=r.status=="sent",o={status:r.status};n?qe(function(d){if(d&&d.length){o.response=d,o.responseUnsafe=W.urlParseQueryString(d);for(var l in o.responseUnsafe){var h=o.responseUnsafe[l];try{(h.substr(0,1)=="{"&&h.substr(-1)=="}"||h.substr(0,1)=="["&&h.substr(-1)=="]")&&(o.responseUnsafe[l]=JSON.parse(h))}catch{}}}t.callback&&t.callback(n,o),b("contactRequested",o)},3e3):(t.callback&&t.callback(n,o),b("contactRequested",o))}}function je(e,r){if(r.req_id&&T[r.req_id]){var t=T[r.req_id];delete T[r.req_id];var n=null,o=null;typeof r.result<"u"&&(n=r.result),typeof r.error<"u"&&(o=r.error),t.callback&&t.callback(o,n)}}function ie(e,r,t){if(!v("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+m),Error("WebAppMethodUnsupported");var n=se(16),o={req_id:n,method:e,params:r||{}};T[n]={callback:t},p.postEvent("web_app_invoke_custom_method",!1,o)}window.Telegram||(window.Telegram={}),Object.defineProperty(s,"initData",{get:function(){return I},enumerable:!0}),Object.defineProperty(s,"initDataUnsafe",{get:function(){return k},enumerable:!0}),Object.defineProperty(s,"version",{get:function(){return m},enumerable:!0}),Object.defineProperty(s,"platform",{get:function(){return z},enumerable:!0}),Object.defineProperty(s,"colorScheme",{get:function(){return H},enumerable:!0}),Object.defineProperty(s,"themeParams",{get:function(){return w},enumerable:!0}),Object.defineProperty(s,"isExpanded",{get:function(){return le},enumerable:!0}),Object.defineProperty(s,"viewportHeight",{get:function(){return(N===!1?window.innerHeight:N)-P},enumerable:!0}),Object.defineProperty(s,"viewportStableHeight",{get:function(){return(F===!1?window.innerHeight:F)-P},enumerable:!0}),Object.defineProperty(s,"isClosingConfirmationEnabled",{set:function(e){he(e)},get:function(){return te},enumerable:!0}),Object.defineProperty(s,"headerColor",{set:function(e){we(e)},get:function(){return _e()},enumerable:!0}),Object.defineProperty(s,"backgroundColor",{set:function(e){ye(e)},get:function(){return fe()},enumerable:!0}),Object.defineProperty(s,"BackButton",{value:Ee,enumerable:!0}),Object.defineProperty(s,"MainButton",{value:Ce,enumerable:!0}),Object.defineProperty(s,"SettingsButton",{value:de,enumerable:!0}),Object.defineProperty(s,"HapticFeedback",{value:Te,enumerable:!0}),Object.defineProperty(s,"CloudStorage",{value:xe,enumerable:!0}),s.setHeaderColor=function(e){s.headerColor=e},s.setBackgroundColor=function(e){s.backgroundColor=e},s.enableClosingConfirmation=function(){s.isClosingConfirmationEnabled=!0},s.disableClosingConfirmation=function(){s.isClosingConfirmationEnabled=!1},s.isVersionAtLeast=function(e){return v(e)},s.onEvent=function(e,r){A(e,r)},s.offEvent=function(e,r){C(e,r)},s.sendData=function(e){if(!e||!e.length)throw console.error("[Telegram.WebApp] Data is required",e),Error("WebAppDataInvalid");if(Pe(e)>4096)throw console.error("[Telegram.WebApp] Data is too long",e),Error("WebAppDataInvalid");p.postEvent("web_app_data_send",!1,{data:e})},s.switchInlineQuery=function(e,r){if(!v("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+m),Error("WebAppMethodUnsupported");if(!_.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(e=e||"",e.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",e),Error("WebAppInlineQueryInvalid");var t=[];if(r){if(!Array.isArray(r))throw console.error("[Telegram.WebApp] Choose chat types should be an array",r),Error("WebAppInlineChooseChatTypesInvalid");for(var n={users:1,bots:1,groups:1,channels:1},o=0;o<r.length;o++){var d=r[o];if(!n[d])throw console.error("[Telegram.WebApp] Choose chat type is invalid",d),Error("WebAppInlineChooseChatTypeInvalid");n[d]!=2&&(n[d]=2,t.push(d))}}p.postEvent("web_app_switch_inline_query",!1,{query:e,chat_types:t})},s.openLink=function(n,r){var t=document.createElement("A");if(t.href=n,t.protocol!="http:"&&t.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",n),Error("WebAppTgUrlInvalid");var n=t.href;r=r||{},v("6.1")?p.postEvent("web_app_open_link",!1,{url:n,try_instant_view:v("6.4")&&!!r.try_instant_view}):window.open(n,"_blank")},s.openTelegramLink=function(e){var r=document.createElement("A");if(r.href=e,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");if(r.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",e),Error("WebAppTgUrlInvalid");var t=r.pathname+r.search;q||v("6.1")?p.postEvent("web_app_open_tg_link",!1,{path_full:t}):location.href="https://t.me"+t},s.openInvoice=function(e,r){var t=document.createElement("A"),n,o;if(t.href=e,t.protocol!="http:"&&t.protocol!="https:"||t.hostname!="t.me"||!(n=t.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(o=n[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",e),Error("WebAppInvoiceUrlInvalid");if(!v("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+m),Error("WebAppMethodUnsupported");if(V[o])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");V[o]={url:e,callback:r},p.postEvent("web_app_open_invoice",!1,{slug:o})},s.showPopup=function(e,r){if(!v("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+m),Error("WebAppMethodUnsupported");if(D)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var t="",n="",o=[],d={};if(typeof e.title<"u"){if(t=c(e.title),t.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",t),Error("WebAppPopupParamInvalid");t.length>0&&(d.title=t)}if(typeof e.message<"u"&&(n=c(e.message)),!n.length)throw console.error("[Telegram.WebApp] Popup message is required",e.message),Error("WebAppPopupParamInvalid");if(n.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",n),Error("WebAppPopupParamInvalid");if(d.message=n,typeof e.buttons<"u"){if(!Array.isArray(e.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",e.buttons),Error("WebAppPopupParamInvalid");for(var l=0;l<e.buttons.length;l++){var h=e.buttons[l],g={},f="";if(typeof h.id<"u"&&(f=h.id.toString(),f.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",f),Error("WebAppPopupParamInvalid");g.id=f;var y=h.type;if(typeof y>"u"&&(y="default"),g.type=y,!(y=="ok"||y=="close"||y=="cancel"))if(y=="default"||y=="destructive"){var S="";if(typeof h.text<"u"&&(S=c(h.text)),!S.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+y,h.text),Error("WebAppPopupParamInvalid");if(S.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",S),Error("WebAppPopupParamInvalid");g.text=S}else throw console.error("[Telegram.WebApp] Popup button type is invalid",y),Error("WebAppPopupParamInvalid");o.push(g)}}else o.push({id:"",type:"close"});if(o.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(o.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");d.buttons=o,D={callback:r},p.postEvent("web_app_open_popup",!1,d)},s.showAlert=function(e,r){s.showPopup({message:e},r?function(){r()}:null)},s.showConfirm=function(e,r){s.showPopup({message:e,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},r?function(t){r(t=="ok")}:null)},s.showScanQrPopup=function(e,r){if(!v("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+m),Error("WebAppMethodUnsupported");if(M)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var t="",n={};if(typeof e.text<"u"){if(t=c(e.text),t.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",t),Error("WebAppScanQrPopupParamInvalid");t.length>0&&(n.text=t)}M={callback:r},p.postEvent("web_app_open_scan_qr_popup",!1,n)},s.closeScanQrPopup=function(){if(!v("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+m),Error("WebAppMethodUnsupported");M=!1,p.postEvent("web_app_close_scan_qr_popup",!1)},s.readTextFromClipboard=function(e){if(!v("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+m),Error("WebAppMethodUnsupported");var r=se(16),t={req_id:r};T[r]={callback:e},p.postEvent("web_app_read_text_from_clipboard",!1,t)},s.requestWriteAccess=function(e){if(!v("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+m),Error("WebAppMethodUnsupported");if(Q)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Q={callback:e},p.postEvent("web_app_request_write_access")},s.requestContact=function(e){if(!v("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+m),Error("WebAppMethodUnsupported");if(J)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");J={callback:e},p.postEvent("web_app_request_phone")},s.invokeCustomMethod=function(e,r,t){ie(e,r,t)},s.ready=function(){p.postEvent("web_app_ready")},s.expand=function(){p.postEvent("web_app_expand")},s.close=function(){p.postEvent("web_app_close")},window.Telegram.WebApp=s,ue(),oe(),re(),_.tgWebAppShowSettings&&de.show(),window.addEventListener("resize",i),q&&document.addEventListener("click",u),p.onEvent("theme_changed",Y),p.onEvent("viewport_changed",G),p.onEvent("invoice_closed",ke),p.onEvent("popup_closed",Ie),p.onEvent("qr_text_received",Se),p.onEvent("scan_qr_popup_closed",Oe),p.onEvent("clipboard_text_received",Be),p.onEvent("write_access_requested",Me),p.onEvent("phone_requested",He),p.onEvent("custom_method_invoked",je),p.postEvent("web_app_request_theme"),p.postEvent("web_app_request_viewport")})();Object.defineProperty(Z,"__esModule",{value:!0});Z.WebApp=void 0;var Le=window;Z.WebApp=Le.Telegram.WebApp;Object.defineProperty(me,"__esModule",{value:!0});var Re=Z,Ve=me.default=Re.WebApp;export{Ve as _};
