var qr=Object.defineProperty;var Jr=(e,t,r)=>t in e?qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oe=(e,t,r)=>(Jr(e,typeof t!="symbol"?t+"":t,r),r);import{w as at,c as te,i as Rt,a as Kr,d as pe,h as w,r as Gr,b as N,e as Q,f as W,g as Qr,u as Qt,t as It,N as Xr,j as Ge,k as it,l as Yr,m as Zr,n as en,o as At,p as tn,q as U,s as rn,v as ne,x as qe,y as nn,z as Xt,A as on,B as an,C as $t,D as Yt,E as ln,F as Lt,G as sn,H as cn,I as un,J as nt,S as dn,K as fn,V as pn,L as Nt,M as Ut,O as J,P as Vt,Q as Et,R as hn,T as vn,U as gn,W as mn,X as Ht,Y as jt,Z as Ee,_ as Te,$ as Re,a0 as bn,a1 as wn,a2 as Fe,a3 as De,a4 as yn}from"./index-B9vFC_3R.js";import{A as _n}from"./index-DBS7_4qZ.js";function xn(e,t){return at(e,r=>{r!==void 0&&(t.value=r)}),te(()=>e.value===void 0?t.value:e.value)}const Cn={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:e=>`Please load all ${e}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"yyyy-w",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",weekPlaceholder:"Select Week",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:e=>`Total ${e} items`,selected:e=>`${e} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now",clear:"Clear"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (←)",tipNext:"Next picture (→)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipDownload:"Download",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}};function Tt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,s=e.formats[r]||e.formats[e.defaultWidth];return s}}function Je(e){return function(t,r){var s=r!=null&&r.context?String(r.context):"standalone",l;if(s==="formatting"&&e.formattingValues){var p=e.defaultFormattingWidth||e.defaultWidth,g=r!=null&&r.width?String(r.width):p;l=e.formattingValues[g]||e.formattingValues[p]}else{var u=e.defaultWidth,h=r!=null&&r.width?String(r.width):e.defaultWidth;l=e.values[h]||e.values[u]}var f=e.argumentCallback?e.argumentCallback(t):t;return l[f]}}function Ke(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.width,l=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],p=t.match(l);if(!p)return null;var g=p[0],u=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(u)?Sn(u,function(S){return S.test(g)}):Pn(u,function(S){return S.test(g)}),f;f=e.valueCallback?e.valueCallback(h):h,f=r.valueCallback?r.valueCallback(f):f;var y=t.slice(g.length);return{value:f,rest:y}}}function Pn(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Sn(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function An(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var l=s[0],p=t.match(e.parsePattern);if(!p)return null;var g=e.valueCallback?e.valueCallback(p[0]):p[0];g=r.valueCallback?r.valueCallback(g):g;var u=t.slice(l.length);return{value:g,rest:u}}}var En={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tn=function(t,r,s){var l,p=En[t];return typeof p=="string"?l=p:r===1?l=p.one:l=p.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+l:l+" ago":l},Wn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},In={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mn={date:Tt({formats:Wn,defaultWidth:"full"}),time:Tt({formats:kn,defaultWidth:"full"}),dateTime:Tt({formats:In,defaultWidth:"full"})},On={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rn=function(t,r,s,l){return On[t]},Fn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$n={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ln={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nn=function(t,r){var s=Number(t),l=s%100;if(l>20||l<10)switch(l%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Un={ordinalNumber:Nn,era:Je({values:Fn,defaultWidth:"wide"}),quarter:Je({values:Dn,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Je({values:Bn,defaultWidth:"wide"}),day:Je({values:zn,defaultWidth:"wide"}),dayPeriod:Je({values:$n,defaultWidth:"wide",formattingValues:Ln,defaultFormattingWidth:"wide"})},Vn=/^(\d+)(th|st|nd|rd)?/i,Hn=/\d+/i,jn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qn={any:[/^b/i,/^(a|c)/i]},Jn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kn={any:[/1/i,/2/i,/3/i,/4/i]},Gn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eo={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},to={ordinalNumber:An({matchPattern:Vn,parsePattern:Hn,valueCallback:function(t){return parseInt(t,10)}}),era:Ke({matchPatterns:jn,defaultMatchWidth:"wide",parsePatterns:qn,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:Jn,defaultMatchWidth:"wide",parsePatterns:Kn,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ke({matchPatterns:Gn,defaultMatchWidth:"wide",parsePatterns:Qn,defaultParseWidth:"any"}),day:Ke({matchPatterns:Xn,defaultMatchWidth:"wide",parsePatterns:Yn,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:Zn,defaultMatchWidth:"any",parsePatterns:eo,defaultParseWidth:"any"})},ro={code:"en-US",formatDistance:Tn,formatLong:Mn,formatRelative:Rn,localize:Un,match:to,options:{weekStartsOn:0,firstWeekContainsDate:1}};const no={name:"en-US",locale:ro};function oo(e){const{mergedLocaleRef:t,mergedDateLocaleRef:r}=Rt(Kr,null)||{},s=te(()=>{var p,g;return(g=(p=t==null?void 0:t.value)===null||p===void 0?void 0:p[e])!==null&&g!==void 0?g:Cn[e]});return{dateLocaleRef:te(()=>{var p;return(p=r==null?void 0:r.value)!==null&&p!==void 0?p:no}),localeRef:s}}const ao=pe({name:"Eye",render(){return w("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},w("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),w("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),io=pe({name:"EyeOff",render(){return w("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},w("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),w("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),w("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),w("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),w("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),lo=pe({name:"ChevronDown",render(){return w("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),so=Gr("clear",w("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},w("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},w("g",{fill:"currentColor","fill-rule":"nonzero"},w("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),co=N("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[Q(">",[W("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[Q("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),Q("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),W("placeholder",`
 display: flex;
 `),W("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Qr({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Mt=pe({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(e){return Qt("-base-clear",co,It(e,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:e}=this;return w("div",{class:`${e}-base-clear`},w(Xr,null,{default:()=>{var t,r;return this.show?w("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},Ge(this.$slots.icon,()=>[w(it,{clsPrefix:e},{default:()=>w(so,null)})])):w("div",{key:"icon",class:`${e}-base-clear__placeholder`},(r=(t=this.$slots).placeholder)===null||r===void 0?void 0:r.call(t))}}))}}),uo=pe({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(e,{slots:t}){return()=>{const{clsPrefix:r}=e;return w(Yr,{clsPrefix:r,class:`${r}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?w(Mt,{clsPrefix:r,show:e.showClear,onClear:e.onClear},{placeholder:()=>w(it,{clsPrefix:r,class:`${r}-base-suffix__arrow`},{default:()=>Ge(t.default,()=>[w(lo,null)])})}):null})}}}),fo=e=>{const{textColor2:t,textColor3:r,textColorDisabled:s,primaryColor:l,primaryColorHover:p,inputColor:g,inputColorDisabled:u,borderColor:h,warningColor:f,warningColorHover:y,errorColor:S,errorColorHover:A,borderRadius:R,lineHeight:I,fontSizeTiny:K,fontSizeSmall:j,fontSizeMedium:ae,fontSizeLarge:v,heightTiny:_,heightSmall:P,heightMedium:T,heightLarge:V,actionColor:H,clearColor:G,clearColorHover:X,clearColorPressed:q,placeholderColor:de,placeholderColorDisabled:re,iconColor:le,iconColorDisabled:ke,iconColorHover:se,iconColorPressed:he}=e;return Object.assign(Object.assign({},en),{countTextColorDisabled:s,countTextColor:r,heightTiny:_,heightSmall:P,heightMedium:T,heightLarge:V,fontSizeTiny:K,fontSizeSmall:j,fontSizeMedium:ae,fontSizeLarge:v,lineHeight:I,lineHeightTextarea:I,borderRadius:R,iconSize:"16px",groupLabelColor:H,groupLabelTextColor:t,textColor:t,textColorDisabled:s,textDecorationColor:t,caretColor:l,placeholderColor:de,placeholderColorDisabled:re,color:g,colorDisabled:u,colorFocus:g,groupLabelBorder:`1px solid ${h}`,border:`1px solid ${h}`,borderHover:`1px solid ${p}`,borderDisabled:`1px solid ${h}`,borderFocus:`1px solid ${p}`,boxShadowFocus:`0 0 0 2px ${At(l,{alpha:.2})}`,loadingColor:l,loadingColorWarning:f,borderWarning:`1px solid ${f}`,borderHoverWarning:`1px solid ${y}`,colorFocusWarning:g,borderFocusWarning:`1px solid ${y}`,boxShadowFocusWarning:`0 0 0 2px ${At(f,{alpha:.2})}`,caretColorWarning:f,loadingColorError:S,borderError:`1px solid ${S}`,borderHoverError:`1px solid ${A}`,colorFocusError:g,borderFocusError:`1px solid ${A}`,boxShadowFocusError:`0 0 0 2px ${At(S,{alpha:.2})}`,caretColorError:S,clearColor:G,clearColorHover:X,clearColorPressed:q,iconColor:le,iconColorDisabled:ke,iconColorHover:se,iconColorPressed:he,suffixTextColor:t})},po={name:"Input",common:Zr,self:fo},Zt=tn("n-input");function ho(e){let t=0;for(const r of e)t++;return t}function ot(e){return e===""||e==null}function vo(e){const t=U(null);function r(){const{value:p}=e;if(!(p!=null&&p.focus)){l();return}const{selectionStart:g,selectionEnd:u,value:h}=p;if(g==null||u==null){l();return}t.value={start:g,end:u,beforeText:h.slice(0,g),afterText:h.slice(u)}}function s(){var p;const{value:g}=t,{value:u}=e;if(!g||!u)return;const{value:h}=u,{start:f,beforeText:y,afterText:S}=g;let A=h.length;if(h.endsWith(S))A=h.length-S.length;else if(h.startsWith(y))A=y.length;else{const R=y[f-1],I=h.indexOf(R,f-1);I!==-1&&(A=I+1)}(p=u.setSelectionRange)===null||p===void 0||p.call(u,A,A)}function l(){t.value=null}return at(e,l),{recordCursor:r,restoreCursor:s}}const qt=pe({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:r,maxlengthRef:s,mergedClsPrefixRef:l,countGraphemesRef:p}=Rt(Zt),g=te(()=>{const{value:u}=r;return u===null||Array.isArray(u)?0:(p.value||ho)(u)});return()=>{const{value:u}=s,{value:h}=r;return w("span",{class:`${l.value}-input-word-count`},rn(t.default,{value:h===null||Array.isArray(h)?"":h},()=>[u===void 0?g.value:`${g.value} / ${u}`]))}}}),go=N("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[W("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),W("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),W("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[Q("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),Q("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),Q("&:-webkit-autofill ~",[W("placeholder","display: none;")])]),ne("round",[qe("textarea","border-radius: calc(var(--n-height) / 2);")]),W("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[Q("span",`
 width: 100%;
 display: inline-block;
 `)]),ne("textarea",[W("placeholder","overflow: visible;")]),qe("autosize","width: 100%;"),ne("autosize",[W("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),N("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),W("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),W("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[Q("&[type=password]::-ms-reveal","display: none;"),Q("+",[W("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),qe("textarea",[W("placeholder","white-space: nowrap;")]),W("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),ne("textarea","width: 100%;",[N("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),ne("resizable",[N("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),W("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 scroll-padding-block-end: var(--n-padding-vertical);
 `),W("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),ne("pair",[W("input-el, placeholder","text-align: center;"),W("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[N("icon",`
 color: var(--n-icon-color);
 `),N("base-icon",`
 color: var(--n-icon-color);
 `)])]),ne("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[W("border","border: var(--n-border-disabled);"),W("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),W("placeholder","color: var(--n-placeholder-color-disabled);"),W("separator","color: var(--n-text-color-disabled);",[N("icon",`
 color: var(--n-icon-color-disabled);
 `),N("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),N("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),W("suffix, prefix","color: var(--n-text-color-disabled);",[N("icon",`
 color: var(--n-icon-color-disabled);
 `),N("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),qe("disabled",[W("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[Q("&:hover",`
 color: var(--n-icon-color-hover);
 `),Q("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),Q("&:hover",[W("state-border","border: var(--n-border-hover);")]),ne("focus","background-color: var(--n-color-focus);",[W("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),W("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),W("state-border",`
 border-color: #0000;
 z-index: 1;
 `),W("prefix","margin-right: 4px;"),W("suffix",`
 margin-left: 4px;
 `),W("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[N("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),N("base-clear",`
 font-size: var(--n-icon-size);
 `,[W("placeholder",[N("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),Q(">",[N("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),N("base-icon",`
 font-size: var(--n-icon-size);
 `)]),N("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(e=>ne(`${e}-status`,[qe("disabled",[N("base-loading",`
 color: var(--n-loading-color-${e})
 `),W("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${e});
 `),W("state-border",`
 border: var(--n-border-${e});
 `),Q("&:hover",[W("state-border",`
 border: var(--n-border-hover-${e});
 `)]),Q("&:focus",`
 background-color: var(--n-color-focus-${e});
 `,[W("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)]),ne("focus",`
 background-color: var(--n-color-focus-${e});
 `,[W("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),mo=N("input",[ne("disabled",[W("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]),bo=Object.assign(Object.assign({},Xt.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),wo=pe({name:"Input",props:bo,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:s,mergedRtlRef:l}=nn(e),p=Xt("Input","-input",go,po,e,t);on&&Qt("-input-safari",mo,t);const g=U(null),u=U(null),h=U(null),f=U(null),y=U(null),S=U(null),A=U(null),R=vo(A),I=U(null),{localeRef:K}=oo("Input"),j=U(e.defaultValue),ae=It(e,"value"),v=xn(ae,j),_=an(e),{mergedSizeRef:P,mergedDisabledRef:T,mergedStatusRef:V}=_,H=U(!1),G=U(!1),X=U(!1),q=U(!1);let de=null;const re=te(()=>{const{placeholder:a,pair:c}=e;return c?Array.isArray(a)?a:a===void 0?["",""]:[a,a]:a===void 0?[K.value.placeholder]:[a]}),le=te(()=>{const{value:a}=X,{value:c}=v,{value:C}=re;return!a&&(ot(c)||Array.isArray(c)&&ot(c[0]))&&C[0]}),ke=te(()=>{const{value:a}=X,{value:c}=v,{value:C}=re;return!a&&C[1]&&(ot(c)||Array.isArray(c)&&ot(c[1]))}),se=$t(()=>e.internalForceFocus||H.value),he=$t(()=>{if(T.value||e.readonly||!e.clearable||!se.value&&!G.value)return!1;const{value:a}=v,{value:c}=se;return e.pair?!!(Array.isArray(a)&&(a[0]||a[1]))&&(G.value||c):!!a&&(G.value||c)}),$e=te(()=>{const{showPasswordOn:a}=e;if(a)return a;if(e.showPasswordToggle)return"click"}),Z=U(!1),ve=te(()=>{const{textDecoration:a}=e;return a?Array.isArray(a)?a.map(c=>({textDecoration:c})):[{textDecoration:a}]:["",""]}),Xe=U(void 0),st=()=>{var a,c;if(e.type==="textarea"){const{autosize:C}=e;if(C&&(Xe.value=(c=(a=I.value)===null||a===void 0?void 0:a.$el)===null||c===void 0?void 0:c.offsetWidth),!u.value||typeof C=="boolean")return;const{paddingTop:D,paddingBottom:L,lineHeight:F}=window.getComputedStyle(u.value),Pe=Number(D.slice(0,-2)),Se=Number(L.slice(0,-2)),Ae=Number(F.slice(0,-2)),{value:He}=h;if(!He)return;if(C.minRows){const je=Math.max(C.minRows,1),St=`${Pe+Se+Ae*je}px`;He.style.minHeight=St}if(C.maxRows){const je=`${Pe+Se+Ae*C.maxRows}px`;He.style.maxHeight=je}}},Ye=te(()=>{const{maxlength:a}=e;return a===void 0?void 0:Number(a)});Yt(()=>{const{value:a}=v;Array.isArray(a)||M(a)});const Le=ln().proxy;function ge(a,c){const{onUpdateValue:C,"onUpdate:value":D,onInput:L}=e,{nTriggerFormInput:F}=_;C&&J(C,a,c),D&&J(D,a,c),L&&J(L,a,c),j.value=a,F()}function ce(a,c){const{onChange:C}=e,{nTriggerFormChange:D}=_;C&&J(C,a,c),j.value=a,D()}function Ze(a){const{onBlur:c}=e,{nTriggerFormBlur:C}=_;c&&J(c,a),C()}function ct(a){const{onFocus:c}=e,{nTriggerFormFocus:C}=_;c&&J(c,a),C()}function et(a){const{onClear:c}=e;c&&J(c,a)}function Ne(a){const{onInputBlur:c}=e;c&&J(c,a)}function me(a){const{onInputFocus:c}=e;c&&J(c,a)}function ut(){const{onDeactivate:a}=e;a&&J(a)}function dt(){const{onActivate:a}=e;a&&J(a)}function B(a){const{onClick:c}=e;c&&J(c,a)}function ft(a){const{onWrapperFocus:c}=e;c&&J(c,a)}function pt(a){const{onWrapperBlur:c}=e;c&&J(c,a)}function Y(){X.value=!0}function ht(a){X.value=!1,a.target===S.value?be(a,1):be(a,0)}function be(a,c=0,C="input"){const D=a.target.value;if(M(D),a instanceof InputEvent&&!a.isComposing&&(X.value=!1),e.type==="textarea"){const{value:F}=I;F&&F.syncUnifiedContainer()}if(de=D,X.value)return;R.recordCursor();const L=vt(D);if(L)if(!e.pair)C==="input"?ge(D,{source:c}):ce(D,{source:c});else{let{value:F}=v;Array.isArray(F)?F=[F[0],F[1]]:F=["",""],F[c]=D,C==="input"?ge(F,{source:c}):ce(F,{source:c})}Le.$forceUpdate(),L||Nt(R.restoreCursor)}function vt(a){const{countGraphemes:c,maxlength:C,minlength:D}=e;if(c){let F;if(C!==void 0&&(F===void 0&&(F=c(a)),F>Number(C))||D!==void 0&&(F===void 0&&(F=c(a)),F<Number(C)))return!1}const{allowInput:L}=e;return typeof L=="function"?L(a):!0}function gt(a){Ne(a),a.relatedTarget===g.value&&ut(),a.relatedTarget!==null&&(a.relatedTarget===y.value||a.relatedTarget===S.value||a.relatedTarget===u.value)||(q.value=!1),Ie(a,"blur"),A.value=null}function we(a,c){me(a),H.value=!0,q.value=!0,dt(),Ie(a,"focus"),c===0?A.value=y.value:c===1?A.value=S.value:c===2&&(A.value=u.value)}function mt(a){e.passivelyActivated&&(pt(a),Ie(a,"blur"))}function ye(a){e.passivelyActivated&&(H.value=!0,ft(a),Ie(a,"focus"))}function Ie(a,c){a.relatedTarget!==null&&(a.relatedTarget===y.value||a.relatedTarget===S.value||a.relatedTarget===u.value||a.relatedTarget===g.value)||(c==="focus"?(ct(a),H.value=!0):c==="blur"&&(Ze(a),H.value=!1))}function ue(a,c){be(a,c,"change")}function bt(a){B(a)}function wt(a){et(a),tt()}function tt(){e.pair?(ge(["",""],{source:"clear"}),ce(["",""],{source:"clear"})):(ge("",{source:"clear"}),ce("",{source:"clear"}))}function _e(a){const{onMousedown:c}=e;c&&c(a);const{tagName:C}=a.target;if(C!=="INPUT"&&C!=="TEXTAREA"){if(e.resizable){const{value:D}=g;if(D){const{left:L,top:F,width:Pe,height:Se}=D.getBoundingClientRect(),Ae=14;if(L+Pe-Ae<a.clientX&&a.clientX<L+Pe&&F+Se-Ae<a.clientY&&a.clientY<F+Se)return}}a.preventDefault(),H.value||i()}}function yt(){var a;G.value=!0,e.type==="textarea"&&((a=I.value)===null||a===void 0||a.handleMouseEnterWrapper())}function _t(){var a;G.value=!1,e.type==="textarea"&&((a=I.value)===null||a===void 0||a.handleMouseLeaveWrapper())}function xe(){T.value||$e.value==="click"&&(Z.value=!Z.value)}function xt(a){if(T.value)return;a.preventDefault();const c=D=>{D.preventDefault(),Vt("mouseup",document,c)};if(Ut("mouseup",document,c),$e.value!=="mousedown")return;Z.value=!0;const C=()=>{Z.value=!1,Vt("mouseup",document,C)};Ut("mouseup",document,C)}function Ct(a){e.onKeyup&&J(e.onKeyup,a)}function Ue(a){switch(e.onKeydown&&J(e.onKeydown,a),a.key){case"Escape":o();break;case"Enter":n(a);break}}function n(a){var c,C;if(e.passivelyActivated){const{value:D}=q;if(D){e.internalDeactivateOnEnter&&o();return}a.preventDefault(),e.type==="textarea"?(c=u.value)===null||c===void 0||c.focus():(C=y.value)===null||C===void 0||C.focus()}}function o(){e.passivelyActivated&&(q.value=!1,Nt(()=>{var a;(a=g.value)===null||a===void 0||a.focus()}))}function i(){var a,c,C;T.value||(e.passivelyActivated?(a=g.value)===null||a===void 0||a.focus():((c=u.value)===null||c===void 0||c.focus(),(C=y.value)===null||C===void 0||C.focus()))}function d(){var a;!((a=g.value)===null||a===void 0)&&a.contains(document.activeElement)&&document.activeElement.blur()}function m(){var a,c;(a=u.value)===null||a===void 0||a.select(),(c=y.value)===null||c===void 0||c.select()}function k(){T.value||(u.value?u.value.focus():y.value&&y.value.focus())}function x(){const{value:a}=g;a!=null&&a.contains(document.activeElement)&&a!==document.activeElement&&o()}function z(a){if(e.type==="textarea"){const{value:c}=u;c==null||c.scrollTo(a)}else{const{value:c}=y;c==null||c.scrollTo(a)}}function M(a){const{type:c,pair:C,autosize:D}=e;if(!C&&D)if(c==="textarea"){const{value:L}=h;L&&(L.textContent=(a??"")+`\r
`)}else{const{value:L}=f;L&&(a?L.textContent=a:L.innerHTML="&nbsp;")}}function E(){st()}const $=U({top:"0"});function ie(a){var c;const{scrollTop:C}=a.target;$.value.top=`${-C}px`,(c=I.value)===null||c===void 0||c.syncUnifiedContainer()}let Ce=null;Lt(()=>{const{autosize:a,type:c}=e;a&&c==="textarea"?Ce=at(v,C=>{!Array.isArray(C)&&C!==de&&M(C)}):Ce==null||Ce()});let Me=null;Lt(()=>{e.type==="textarea"?Me=at(v,a=>{var c;!Array.isArray(a)&&a!==de&&((c=I.value)===null||c===void 0||c.syncUnifiedContainer())}):Me==null||Me()}),sn(Zt,{mergedValueRef:v,maxlengthRef:Ye,mergedClsPrefixRef:t,countGraphemesRef:It(e,"countGraphemes")});const Ve={wrapperElRef:g,inputElRef:y,textareaElRef:u,isCompositing:X,clear:tt,focus:i,blur:d,select:m,deactivate:x,activate:k,scrollTo:z},Pt=cn("Input",l,t),rt=te(()=>{const{value:a}=P,{common:{cubicBezierEaseInOut:c},self:{color:C,borderRadius:D,textColor:L,caretColor:F,caretColorError:Pe,caretColorWarning:Se,textDecorationColor:Ae,border:He,borderDisabled:je,borderHover:St,borderFocus:sr,placeholderColor:cr,placeholderColorDisabled:ur,lineHeightTextarea:dr,colorDisabled:fr,colorFocus:pr,textColorDisabled:hr,boxShadowFocus:vr,iconSize:gr,colorFocusWarning:mr,boxShadowFocusWarning:br,borderWarning:wr,borderFocusWarning:yr,borderHoverWarning:_r,colorFocusError:xr,boxShadowFocusError:Cr,borderError:Pr,borderFocusError:Sr,borderHoverError:Ar,clearSize:Er,clearColor:Tr,clearColorHover:Wr,clearColorPressed:kr,iconColor:Ir,iconColorDisabled:Mr,suffixTextColor:Or,countTextColor:Rr,countTextColorDisabled:Fr,iconColorHover:Dr,iconColorPressed:Br,loadingColor:zr,loadingColorError:$r,loadingColorWarning:Lr,[Et("padding",a)]:Nr,[Et("fontSize",a)]:Ur,[Et("height",a)]:Vr}}=p.value,{left:Hr,right:jr}=hn(Nr);return{"--n-bezier":c,"--n-count-text-color":Rr,"--n-count-text-color-disabled":Fr,"--n-color":C,"--n-font-size":Ur,"--n-border-radius":D,"--n-height":Vr,"--n-padding-left":Hr,"--n-padding-right":jr,"--n-text-color":L,"--n-caret-color":F,"--n-text-decoration-color":Ae,"--n-border":He,"--n-border-disabled":je,"--n-border-hover":St,"--n-border-focus":sr,"--n-placeholder-color":cr,"--n-placeholder-color-disabled":ur,"--n-icon-size":gr,"--n-line-height-textarea":dr,"--n-color-disabled":fr,"--n-color-focus":pr,"--n-text-color-disabled":hr,"--n-box-shadow-focus":vr,"--n-loading-color":zr,"--n-caret-color-warning":Se,"--n-color-focus-warning":mr,"--n-box-shadow-focus-warning":br,"--n-border-warning":wr,"--n-border-focus-warning":yr,"--n-border-hover-warning":_r,"--n-loading-color-warning":Lr,"--n-caret-color-error":Pe,"--n-color-focus-error":xr,"--n-box-shadow-focus-error":Cr,"--n-border-error":Pr,"--n-border-focus-error":Sr,"--n-border-hover-error":Ar,"--n-loading-color-error":$r,"--n-clear-color":Tr,"--n-clear-size":Er,"--n-clear-color-hover":Wr,"--n-clear-color-pressed":kr,"--n-icon-color":Ir,"--n-icon-color-hover":Dr,"--n-icon-color-pressed":Br,"--n-icon-color-disabled":Mr,"--n-suffix-text-color":Or}}),b=s?un("input",te(()=>{const{value:a}=P;return a[0]}),rt,e):void 0;return Object.assign(Object.assign({},Ve),{wrapperElRef:g,inputElRef:y,inputMirrorElRef:f,inputEl2Ref:S,textareaElRef:u,textareaMirrorElRef:h,textareaScrollbarInstRef:I,rtlEnabled:Pt,uncontrolledValue:j,mergedValue:v,passwordVisible:Z,mergedPlaceholder:re,showPlaceholder1:le,showPlaceholder2:ke,mergedFocus:se,isComposing:X,activated:q,showClearButton:he,mergedSize:P,mergedDisabled:T,textDecorationStyle:ve,mergedClsPrefix:t,mergedBordered:r,mergedShowPasswordOn:$e,placeholderStyle:$,mergedStatus:V,textAreaScrollContainerWidth:Xe,handleTextAreaScroll:ie,handleCompositionStart:Y,handleCompositionEnd:ht,handleInput:be,handleInputBlur:gt,handleInputFocus:we,handleWrapperBlur:mt,handleWrapperFocus:ye,handleMouseEnter:yt,handleMouseLeave:_t,handleMouseDown:_e,handleChange:ue,handleClick:bt,handleClear:wt,handlePasswordToggleClick:xe,handlePasswordToggleMousedown:xt,handleWrapperKeydown:Ue,handleWrapperKeyup:Ct,handleTextAreaMirrorResize:E,getTextareaScrollContainer:()=>u.value,mergedTheme:p,cssVars:s?void 0:rt,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender})},render(){var e,t;const{mergedClsPrefix:r,mergedStatus:s,themeClass:l,type:p,countGraphemes:g,onRender:u}=this,h=this.$slots;return u==null||u(),w("div",{ref:"wrapperElRef",class:[`${r}-input`,l,s&&`${r}-input--${s}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:p==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&p!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},w("div",{class:`${r}-input-wrapper`},nt(h.prefix,f=>f&&w("div",{class:`${r}-input__prefix`},f)),p==="textarea"?w(dn,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var f,y;const{textAreaScrollContainerWidth:S}=this,A={width:this.autosize&&S&&`${S}px`};return w(fn,null,w("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${r}-input__textarea-el`,(f=this.inputProps)===null||f===void 0?void 0:f.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:g?void 0:this.maxlength,minlength:g?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(y=this.inputProps)===null||y===void 0?void 0:y.style,A],onBlur:this.handleInputBlur,onFocus:R=>{this.handleInputFocus(R,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?w("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,A],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?w(pn,{onResize:this.handleTextAreaMirrorResize},{default:()=>w("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):w("div",{class:`${r}-input__input`},w("input",Object.assign({type:p==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":p},this.inputProps,{ref:"inputElRef",class:[`${r}-input__input-el`,(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(t=this.inputProps)===null||t===void 0?void 0:t.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:g?void 0:this.maxlength,minlength:g?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:f=>{this.handleInputFocus(f,0)},onInput:f=>{this.handleInput(f,0)},onChange:f=>{this.handleChange(f,0)}})),this.showPlaceholder1?w("div",{class:`${r}-input__placeholder`},w("span",null,this.mergedPlaceholder[0])):null,this.autosize?w("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"}," "):null),!this.pair&&nt(h.suffix,f=>f||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?w("div",{class:`${r}-input__suffix`},[nt(h["clear-icon-placeholder"],y=>(this.clearable||y)&&w(Mt,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>y,icon:()=>{var S,A;return(A=(S=this.$slots)["clear-icon"])===null||A===void 0?void 0:A.call(S)}})),this.internalLoadingBeforeSuffix?null:f,this.loading!==void 0?w(uo,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?f:null,this.showCount&&this.type!=="textarea"?w(qt,null,{default:y=>{var S;return(S=h.count)===null||S===void 0?void 0:S.call(h,y)}}):null,this.mergedShowPasswordOn&&this.type==="password"?w("div",{class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?Ge(h["password-visible-icon"],()=>[w(it,{clsPrefix:r},{default:()=>w(ao,null)})]):Ge(h["password-invisible-icon"],()=>[w(it,{clsPrefix:r},{default:()=>w(io,null)})])):null]):null)),this.pair?w("span",{class:`${r}-input__separator`},Ge(h.separator,()=>[this.separator])):null,this.pair?w("div",{class:`${r}-input-wrapper`},w("div",{class:`${r}-input__input`},w("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:g?void 0:this.maxlength,minlength:g?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:f=>{this.handleInputFocus(f,1)},onInput:f=>{this.handleInput(f,1)},onChange:f=>{this.handleChange(f,1)}}),this.showPlaceholder2?w("div",{class:`${r}-input__placeholder`},w("span",null,this.mergedPlaceholder[1])):null),nt(h.suffix,f=>(this.clearable||f)&&w("div",{class:`${r}-input__suffix`},[this.clearable&&w(Mt,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var y;return(y=h["clear-icon"])===null||y===void 0?void 0:y.call(h)},placeholder:()=>{var y;return(y=h["clear-icon-placeholder"])===null||y===void 0?void 0:y.call(h)}}),f]))):null,this.mergedBordered?w("div",{class:`${r}-input__border`}):null,this.mergedBordered?w("div",{class:`${r}-input__state-border`}):null,this.showCount&&p==="textarea"?w(qt,null,{default:f=>{var y;const{renderCount:S}=this;return S?S(f):(y=h.count)===null||y===void 0?void 0:y.call(h,f)}}):null)}});function yo(){const e=Rt(gn,null);return e===null&&vn("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}var er={},lt={};(function(){var e={},t="";try{t=location.hash.toString()}catch{}var r=h(t),s=ae("initParams");if(s)for(var l in s)typeof r[l]>"u"&&(r[l]=s[l]);j("initParams",r);var p=!1,g;try{if(p=window.parent!=null&&window!=window.parent,p){window.addEventListener("message",function(v){if(v.source===window.parent){try{var _=JSON.parse(v.data)}catch{return}if(!(!_||!_.eventType))if(_.eventType=="set_custom_style")v.origin==="https://web.telegram.org"&&(g.innerHTML=_.eventData);else if(_.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else A(_.eventType,_.eventData)}}),g=document.createElement("style"),document.head.appendChild(g);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function u(v){try{return v=v.replace(/\+/g,"%20"),decodeURIComponent(v)}catch{return v}}function h(v){v=v.replace(/^#/,"");var _={};if(!v.length)return _;if(v.indexOf("=")<0&&v.indexOf("?")<0)return _._path=u(v),_;var P=v.indexOf("?");if(P>=0){var T=v.substr(0,P);_._path=u(T),v=v.substr(P+1)}var V=f(v);for(var H in V)_[H]=V[H];return _}function f(v){var _={};if(!v.length)return _;var P=v.split("&"),T,V,H,G;for(T=0;T<P.length;T++)V=P[T].split("="),H=u(V[0]),G=V[1]==null?null:u(V[1]),_[H]=G;return _}function y(v,_){var P=v.indexOf("#");if(P<0)return v+"#"+_;var T=v.substr(P+1);return T.indexOf("=")>=0||T.indexOf("?")>=0?v+"&"+_:T.length>0?v+"?"+_:v+_}function S(v,_,P){if(_||(_=function(){}),P===void 0&&(P=""),console.log("[Telegram.WebView] > postEvent",v,P),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(v,JSON.stringify(P)),_();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:v,eventData:P})),_();else if(p)try{var T="https://web.telegram.org";T="*",window.parent.postMessage(JSON.stringify({eventType:v,eventData:P}),T),_()}catch(V){_(V)}else _({notAvailable:!0})}function A(v,_){console.log("[Telegram.WebView] < receiveEvent",v,_),R(v,function(P){P(v,_)})}function R(v,_){var P=e[v];if(!(P===void 0||!P.length))for(var T=0;T<P.length;T++)try{_(P[T])}catch{}}function I(v,_){e[v]===void 0&&(e[v]=[]);var P=e[v].indexOf(_);P===-1&&e[v].push(_)}function K(v,_){if(e[v]!==void 0){var P=e[v].indexOf(_);P!==-1&&e[v].splice(P,1)}}function j(v,_){try{return window.sessionStorage.setItem("__telegram__"+v,JSON.stringify(_)),!0}catch{}return!1}function ae(v){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+v))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:r,isIframe:p,onEvent:I,offEvent:K,postEvent:S,receiveEvent:A,callEventCallbacks:R},window.Telegram.Utils={urlSafeDecode:u,urlParseQueryString:f,urlParseHashParams:h,urlAppendHashParams:y,sessionStorageSet:j,sessionStorageGet:ae},window.TelegramGameProxy_receiveEvent=A,window.TelegramGameProxy={receiveEvent:A}})();(function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,r=t.initParams,s=t.isIframe,l={},p="",g={},u={},h="light",f="6.0",y="unknown";if(r.tgWebAppData&&r.tgWebAppData.length){p=r.tgWebAppData,g=e.urlParseQueryString(p);for(var S in g){var A=g[S];try{(A.substr(0,1)=="{"&&A.substr(-1)=="}"||A.substr(0,1)=="["&&A.substr(-1)=="]")&&(g[S]=JSON.parse(A))}catch{}}}if(r.tgWebAppThemeParams&&r.tgWebAppThemeParams.length){var R=r.tgWebAppThemeParams;try{var I=JSON.parse(R);I&&X(I)}catch{}}var I=e.sessionStorageGet("themeParams");I&&X(I),r.tgWebAppVersion&&(f=r.tgWebAppVersion),r.tgWebAppPlatform&&(y=r.tgWebAppPlatform);function K(n,o){o.theme_params&&(X(o.theme_params),window.Telegram.WebApp.MainButton.setParams({}),Ne(),T("themeChanged"))}var j=window.innerHeight;function ae(n,o){o.height&&(window.removeEventListener("resize",v),se(o))}function v(n){j!=window.innerHeight&&(j=window.innerHeight,T("viewportChanged",{isStateStable:!0}))}function _(n){if(!(n.metaKey||n.ctrlKey)){for(var o=n.target;o.tagName!="A"&&o.parentNode;)o=o.parentNode;o.tagName=="A"&&o.target!="_blank"&&(o.protocol=="http:"||o.protocol=="https:")&&o.hostname=="t.me"&&(l.openTgLink(o.href),n.preventDefault())}}function P(n){return n.toString().replace(/^\s+|\s+$/g,"")}function T(n){var o=Array.prototype.slice.call(arguments);n=o.shift(),t.callEventCallbacks("webview:"+n,function(i){i.apply(l,o)})}function V(n,o){t.onEvent("webview:"+n,o)}function H(n,o){t.offEvent("webview:"+n,o)}function G(n,o){var i=document.documentElement;i&&i.style&&i.style.setProperty&&i.style.setProperty("--tg-"+n,o)}function X(n){n.bg_color=="#1c1c1d"&&n.bg_color==n.secondary_bg_color&&(n.secondary_bg_color="#2c2c2e");var o;for(var i in n)(o=me(n[i]))&&(u[i]=o,i=="bg_color"&&(h=ut(o)?"dark":"light",G("color-scheme",h)),i="theme-"+i.split("_").join("-"),G(i,o));e.sessionStorageSet("themeParams",u)}var q={};function de(n){for(var o=100;--o;){for(var i="",d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",m=d.length,k=0;k<n;k++)i+=d[Math.floor(Math.random()*m)];if(!q[i])return q[i]={},i}throw Error("WebAppCallbackIdGenerateFailed")}var re=!1,le=!1,ke=!0;function se(n){typeof n<"u"&&(ke=!!n.is_expanded,re=n.height,n.is_state_stable&&(le=n.height),T("viewportChanged",{isStateStable:!!n.is_state_stable}));var o,i;re!==!1?o=re-Y+"px":o=Y?"calc(100vh - "+Y+"px)":"100vh",le!==!1?i=le-Y+"px":i=Y?"calc(100vh - "+Y+"px)":"100vh",G("viewport-height",o),G("viewport-stable-height",i)}var he=!1;function $e(n){if(!B("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+f);return}he=!!n,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:he})}var Z="bg_color",ve=null;function Xe(){return Z=="secondary_bg_color"?u.secondary_bg_color:Z=="bg_color"?u.bg_color:ve}function st(n){if(!B("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+f);return}B("6.9")||(u.bg_color&&u.bg_color==n?n="bg_color":u.secondary_bg_color&&u.secondary_bg_color==n&&(n="secondary_bg_color"));var o=null,i=null;if(n=="bg_color"||n=="secondary_bg_color")i=n;else if(B("6.9")&&(o=me(n),!o))throw console.error("[Telegram.WebApp] Header color format is invalid",n),Error("WebAppHeaderColorInvalid");if(!B("6.9")&&i!="bg_color"&&i!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",n),Error("WebAppHeaderColorKeyInvalid");Z=i,ve=o,ge()}var Ye=null,Le=null;function ge(){(Ye!=Z||Le!=ve)&&(Ye=Z,Le=ve,Le?t.postEvent("web_app_set_header_color",!1,{color:ve}):t.postEvent("web_app_set_header_color",!1,{color_key:Z}))}var ce="bg_color";function Ze(){return ce=="secondary_bg_color"?u.secondary_bg_color:ce=="bg_color"?u.bg_color:ce}function ct(n){if(!B("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+f);return}var o;if(n=="bg_color"||n=="secondary_bg_color")o=n;else if(o=me(n),!o)throw console.error("[Telegram.WebApp] Background color format is invalid",n),Error("WebAppBackgroundColorInvalid");ce=o,Ne()}var et=null;function Ne(){var n=Ze();et!=n&&(et=n,t.postEvent("web_app_set_background_color",!1,{color:n}))}function me(n){n+="";var o;if(o=/^\s*#([0-9a-f]{6})\s*$/i.exec(n))return"#"+o[1].toLowerCase();if(o=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(n))return("#"+o[1]+o[1]+o[2]+o[2]+o[3]+o[3]).toLowerCase();if(o=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(n)){var i=parseInt(o[1]),d=parseInt(o[2]),m=parseInt(o[3]);return i=(i<16?"0":"")+i.toString(16),d=(d<16?"0":"")+d.toString(16),m=(m<16?"0":"")+m.toString(16),"#"+i+d+m}return!1}function ut(n){n=n.replace(/[\s#]/g,""),n.length==3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var o=parseInt(n.substr(0,2),16),i=parseInt(n.substr(2,2),16),d=parseInt(n.substr(4,2),16),m=Math.sqrt(.299*(o*o)+.587*(i*i)+.114*(d*d));return m<120}function dt(n,o){typeof n!="string"&&(n=""),typeof o!="string"&&(o=""),n=n.replace(/^\s+|\s+$/g,"").split("."),o=o.replace(/^\s+|\s+$/g,"").split(".");var i=Math.max(n.length,o.length),d,m,k;for(d=0;d<i;d++)if(m=parseInt(n[d])||0,k=parseInt(o[d])||0,m!=k)return m>k?1:-1;return 0}function B(n){return dt(f,n)>=0}function ft(n){if(window.Blob)try{return new Blob([n]).size}catch{}for(var o=n.length,i=n.length-1;i>=0;i--){var d=n.charCodeAt(i);d>127&&d<=2047?o++:d>2047&&d<=65535&&(o+=2),d>=56320&&d<=57343&&i--}return o}var pt=function(){var n=!1,o={};Object.defineProperty(o,"isVisible",{set:function(E){M({is_visible:E})},get:function(){return n},enumerable:!0});var i=null;t.onEvent("back_button_pressed",d);function d(){T("backButtonClicked")}function m(){return{is_visible:n}}function k(E){return typeof E>"u"&&(E=m()),JSON.stringify(E)}function x(){return B("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+f),!1)}function z(){var E=m(),$=k(E);i!==$&&(i=$,t.postEvent("web_app_setup_back_button",!1,E))}function M(E){return x()&&(typeof E.is_visible<"u"&&(n=!!E.is_visible),z()),o}return o.onClick=function(E){return x()&&V("backButtonClicked",E),o},o.offClick=function(E){return x()&&H("backButtonClicked",E),o},o.show=function(){return M({is_visible:!0})},o.hide=function(){return M({is_visible:!1})},o}(),Y=0,ht=function(){var n=!1,o=!0,i=!1,d="CONTINUE",m=!1,k=!1,x={};Object.defineProperty(x,"text",{set:function(b){x.setParams({text:b})},get:function(){return d},enumerable:!0}),Object.defineProperty(x,"color",{set:function(b){x.setParams({color:b})},get:function(){return m||u.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(x,"textColor",{set:function(b){x.setParams({text_color:b})},get:function(){return k||u.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(x,"isVisible",{set:function(b){x.setParams({is_visible:b})},get:function(){return n},enumerable:!0}),Object.defineProperty(x,"isProgressVisible",{get:function(){return i},enumerable:!0}),Object.defineProperty(x,"isActive",{set:function(b){x.setParams({is_active:b})},get:function(){return o},enumerable:!0});var z=null;t.onEvent("main_button_pressed",ie);var M=null,E={};if(r.tgWebAppDebug){M=document.createElement("tg-main-button"),E={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var $ in E)M.style[$]=E[$];document.addEventListener("DOMContentLoaded",function b(a){document.removeEventListener("DOMContentLoaded",b),document.body.appendChild(M),M.addEventListener("click",ie,!1)})}function ie(){o&&T("mainButtonClicked")}function Ce(){var b=x.color,a=x.textColor;return n?{is_visible:!0,is_active:o,is_progress_visible:i,text:d,color:b,text_color:a}:{is_visible:!1}}function Me(b){return typeof b>"u"&&(b=Ce()),JSON.stringify(b)}function Ve(){var b=Ce(),a=Me(b);z!==a&&(z=a,t.postEvent("web_app_setup_main_button",!1,b),r.tgWebAppDebug&&Pt(b))}function Pt(b){b.is_visible?(M.style.display="block",Y=48,M.style.opacity=b.is_active?"1":"0.8",M.style.cursor=b.is_active?"pointer":"auto",M.disabled=!b.is_active,M.innerText=b.text,M.style.backgroundImage=b.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",M.style.backgroundColor=b.color,M.style.color=b.text_color):(M.style.display="none",Y=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Y+"px"),se()}function rt(b){if(typeof b.text<"u"){var a=P(b.text);if(!a.length)throw console.error("[Telegram.WebApp] Main button text is required",b.text),Error("WebAppMainButtonParamInvalid");if(a.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",a),Error("WebAppMainButtonParamInvalid");d=a}if(typeof b.color<"u")if(b.color===!1||b.color===null)m=!1;else{var c=me(b.color);if(!c)throw console.error("[Telegram.WebApp] Main button color format is invalid",b.color),Error("WebAppMainButtonParamInvalid");m=c}if(typeof b.text_color<"u")if(b.text_color===!1||b.text_color===null)k=!1;else{var C=me(b.text_color);if(!C)throw console.error("[Telegram.WebApp] Main button text color format is invalid",b.text_color),Error("WebAppMainButtonParamInvalid");k=C}if(typeof b.is_visible<"u"){if(b.is_visible&&!x.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");n=!!b.is_visible}return typeof b.is_active<"u"&&(o=!!b.is_active),Ve(),x}return x.setText=function(b){return x.setParams({text:b})},x.onClick=function(b){return V("mainButtonClicked",b),x},x.offClick=function(b){return H("mainButtonClicked",b),x},x.show=function(){return x.setParams({is_visible:!0})},x.hide=function(){return x.setParams({is_visible:!1})},x.enable=function(){return x.setParams({is_active:!0})},x.disable=function(){return x.setParams({is_active:!1})},x.showProgress=function(b){return o=!!b,i=!0,Ve(),x},x.hideProgress=function(){return x.isActive||(o=!0),i=!1,Ve(),x},x.setParams=rt,x}(),be=function(){var n=!1,o={};Object.defineProperty(o,"isVisible",{set:function(E){M({is_visible:E})},get:function(){return n},enumerable:!0});var i=null;t.onEvent("settings_button_pressed",d);function d(){T("settingsButtonClicked")}function m(){return{is_visible:n}}function k(E){return typeof E>"u"&&(E=m()),JSON.stringify(E)}function x(){return B("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+f),!1)}function z(){var E=m(),$=k(E);i!==$&&(i=$,t.postEvent("web_app_setup_settings_button",!1,E))}function M(E){return x()&&(typeof E.is_visible<"u"&&(n=!!E.is_visible),z()),o}return o.onClick=function(E){return x()&&V("settingsButtonClicked",E),o},o.offClick=function(E){return x()&&H("settingsButtonClicked",E),o},o.show=function(){return M({is_visible:!0})},o.hide=function(){return M({is_visible:!1})},o}(),vt=function(){var n={};function o(i){if(!B("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+f),n;if(i.type=="impact"){if(i.impact_style!="light"&&i.impact_style!="medium"&&i.impact_style!="heavy"&&i.impact_style!="rigid"&&i.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",i.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(i.type=="notification"){if(i.notification_type!="error"&&i.notification_type!="success"&&i.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",i.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(i.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",i.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,i),n}return n.impactOccurred=function(i){return o({type:"impact",impact_style:i})},n.notificationOccurred=function(i){return o({type:"notification",notification_type:i})},n.selectionChanged=function(){return o({type:"selection_change"})},n}(),gt=function(){var n={};function o(i,d,m){if(!B("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+f),Error("WebAppMethodUnsupported");return Ue(i,d,m),n}return n.setItem=function(i,d,m){return o("saveStorageValue",{key:i,value:d},m)},n.getItem=function(i,d){return n.getItems([i],d?function(m,k){m?d(m):d(null,k[i])}:null)},n.getItems=function(i,d){return o("getStorageValues",{keys:i},d)},n.removeItem=function(i,d){return n.removeItems([i],d)},n.removeItems=function(i,d){return o("deleteStorageValues",{keys:i},d)},n.getKeys=function(i){return o("getStorageKeys",{},i)},n}(),we={};function mt(n,o){if(o.slug&&we[o.slug]){var i=we[o.slug];delete we[o.slug],i.callback&&i.callback(o.status),T("invoiceClosed",{url:i.url,status:o.status})}}var ye=!1;function Ie(n,o){if(ye){var i=ye;ye=!1;var d=null;typeof o.button_id<"u"&&(d=o.button_id),i.callback&&i.callback(d),T("popupClosed",{button_id:d})}}var ue=!1;function bt(n,o){if(ue){var i=ue,d=null;typeof o.data<"u"&&(d=o.data),i.callback&&i.callback(d)&&(ue=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),T("qrTextReceived",{data:d})}}function wt(n,o){ue=!1}function tt(n,o){if(o.req_id&&q[o.req_id]){var i=q[o.req_id];delete q[o.req_id];var d=null;typeof o.data<"u"&&(d=o.data),i.callback&&i.callback(d),T("clipboardTextReceived",{data:d})}}var _e=!1;function yt(n,o){if(_e){var i=_e;_e=!1,i.callback&&i.callback(o.status=="allowed"),T("writeAccessRequested",{status:o.status})}}function _t(n,o){var i,d,m=0,k=function(){Ue("getRequestedContact",{},function(z,M){M&&M.length?(clearTimeout(d),n(M)):(m+=50,i=setTimeout(k,m))})},x=function(){clearTimeout(i),n("")};d=setTimeout(x,o),k()}var xe=!1;function xt(n,o){if(xe){var i=xe;xe=!1;var d=o.status=="sent",m={status:o.status};d?_t(function(k){if(k&&k.length){m.response=k,m.responseUnsafe=e.urlParseQueryString(k);for(var x in m.responseUnsafe){var z=m.responseUnsafe[x];try{(z.substr(0,1)=="{"&&z.substr(-1)=="}"||z.substr(0,1)=="["&&z.substr(-1)=="]")&&(m.responseUnsafe[x]=JSON.parse(z))}catch{}}}i.callback&&i.callback(d,m),T("contactRequested",m)},3e3):(i.callback&&i.callback(d,m),T("contactRequested",m))}}function Ct(n,o){if(o.req_id&&q[o.req_id]){var i=q[o.req_id];delete q[o.req_id];var d=null,m=null;typeof o.result<"u"&&(d=o.result),typeof o.error<"u"&&(m=o.error),i.callback&&i.callback(m,d)}}function Ue(n,o,i){if(!B("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+f),Error("WebAppMethodUnsupported");var d=de(16),m={req_id:d,method:n,params:o||{}};q[d]={callback:i},t.postEvent("web_app_invoke_custom_method",!1,m)}window.Telegram||(window.Telegram={}),Object.defineProperty(l,"initData",{get:function(){return p},enumerable:!0}),Object.defineProperty(l,"initDataUnsafe",{get:function(){return g},enumerable:!0}),Object.defineProperty(l,"version",{get:function(){return f},enumerable:!0}),Object.defineProperty(l,"platform",{get:function(){return y},enumerable:!0}),Object.defineProperty(l,"colorScheme",{get:function(){return h},enumerable:!0}),Object.defineProperty(l,"themeParams",{get:function(){return u},enumerable:!0}),Object.defineProperty(l,"isExpanded",{get:function(){return ke},enumerable:!0}),Object.defineProperty(l,"viewportHeight",{get:function(){return(re===!1?window.innerHeight:re)-Y},enumerable:!0}),Object.defineProperty(l,"viewportStableHeight",{get:function(){return(le===!1?window.innerHeight:le)-Y},enumerable:!0}),Object.defineProperty(l,"isClosingConfirmationEnabled",{set:function(n){$e(n)},get:function(){return he},enumerable:!0}),Object.defineProperty(l,"headerColor",{set:function(n){st(n)},get:function(){return Xe()},enumerable:!0}),Object.defineProperty(l,"backgroundColor",{set:function(n){ct(n)},get:function(){return Ze()},enumerable:!0}),Object.defineProperty(l,"BackButton",{value:pt,enumerable:!0}),Object.defineProperty(l,"MainButton",{value:ht,enumerable:!0}),Object.defineProperty(l,"SettingsButton",{value:be,enumerable:!0}),Object.defineProperty(l,"HapticFeedback",{value:vt,enumerable:!0}),Object.defineProperty(l,"CloudStorage",{value:gt,enumerable:!0}),l.setHeaderColor=function(n){l.headerColor=n},l.setBackgroundColor=function(n){l.backgroundColor=n},l.enableClosingConfirmation=function(){l.isClosingConfirmationEnabled=!0},l.disableClosingConfirmation=function(){l.isClosingConfirmationEnabled=!1},l.isVersionAtLeast=function(n){return B(n)},l.onEvent=function(n,o){V(n,o)},l.offEvent=function(n,o){H(n,o)},l.sendData=function(n){if(!n||!n.length)throw console.error("[Telegram.WebApp] Data is required",n),Error("WebAppDataInvalid");if(ft(n)>4096)throw console.error("[Telegram.WebApp] Data is too long",n),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:n})},l.switchInlineQuery=function(n,o){if(!B("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+f),Error("WebAppMethodUnsupported");if(!r.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(n=n||"",n.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",n),Error("WebAppInlineQueryInvalid");var i=[];if(o){if(!Array.isArray(o))throw console.error("[Telegram.WebApp] Choose chat types should be an array",o),Error("WebAppInlineChooseChatTypesInvalid");for(var d={users:1,bots:1,groups:1,channels:1},m=0;m<o.length;m++){var k=o[m];if(!d[k])throw console.error("[Telegram.WebApp] Choose chat type is invalid",k),Error("WebAppInlineChooseChatTypeInvalid");d[k]!=2&&(d[k]=2,i.push(k))}}t.postEvent("web_app_switch_inline_query",!1,{query:n,chat_types:i})},l.openLink=function(d,o){var i=document.createElement("A");if(i.href=d,i.protocol!="http:"&&i.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",d),Error("WebAppTgUrlInvalid");var d=i.href;o=o||{},B("6.1")?t.postEvent("web_app_open_link",!1,{url:d,try_instant_view:B("6.4")&&!!o.try_instant_view}):window.open(d,"_blank")},l.openTelegramLink=function(n){var o=document.createElement("A");if(o.href=n,o.protocol!="http:"&&o.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",n),Error("WebAppTgUrlInvalid");if(o.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",n),Error("WebAppTgUrlInvalid");var i=o.pathname+o.search;s||B("6.1")?t.postEvent("web_app_open_tg_link",!1,{path_full:i}):location.href="https://t.me"+i},l.openInvoice=function(n,o){var i=document.createElement("A"),d,m;if(i.href=n,i.protocol!="http:"&&i.protocol!="https:"||i.hostname!="t.me"||!(d=i.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(m=d[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",n),Error("WebAppInvoiceUrlInvalid");if(!B("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+f),Error("WebAppMethodUnsupported");if(we[m])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");we[m]={url:n,callback:o},t.postEvent("web_app_open_invoice",!1,{slug:m})},l.showPopup=function(n,o){if(!B("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+f),Error("WebAppMethodUnsupported");if(ye)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var i="",d="",m=[],k={};if(typeof n.title<"u"){if(i=P(n.title),i.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",i),Error("WebAppPopupParamInvalid");i.length>0&&(k.title=i)}if(typeof n.message<"u"&&(d=P(n.message)),!d.length)throw console.error("[Telegram.WebApp] Popup message is required",n.message),Error("WebAppPopupParamInvalid");if(d.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",d),Error("WebAppPopupParamInvalid");if(k.message=d,typeof n.buttons<"u"){if(!Array.isArray(n.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",n.buttons),Error("WebAppPopupParamInvalid");for(var x=0;x<n.buttons.length;x++){var z=n.buttons[x],M={},E="";if(typeof z.id<"u"&&(E=z.id.toString(),E.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",E),Error("WebAppPopupParamInvalid");M.id=E;var $=z.type;if(typeof $>"u"&&($="default"),M.type=$,!($=="ok"||$=="close"||$=="cancel"))if($=="default"||$=="destructive"){var ie="";if(typeof z.text<"u"&&(ie=P(z.text)),!ie.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+$,z.text),Error("WebAppPopupParamInvalid");if(ie.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",ie),Error("WebAppPopupParamInvalid");M.text=ie}else throw console.error("[Telegram.WebApp] Popup button type is invalid",$),Error("WebAppPopupParamInvalid");m.push(M)}}else m.push({id:"",type:"close"});if(m.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(m.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");k.buttons=m,ye={callback:o},t.postEvent("web_app_open_popup",!1,k)},l.showAlert=function(n,o){l.showPopup({message:n},o?function(){o()}:null)},l.showConfirm=function(n,o){l.showPopup({message:n,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},o?function(i){o(i=="ok")}:null)},l.showScanQrPopup=function(n,o){if(!B("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+f),Error("WebAppMethodUnsupported");if(ue)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var i="",d={};if(typeof n.text<"u"){if(i=P(n.text),i.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",i),Error("WebAppScanQrPopupParamInvalid");i.length>0&&(d.text=i)}ue={callback:o},t.postEvent("web_app_open_scan_qr_popup",!1,d)},l.closeScanQrPopup=function(){if(!B("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+f),Error("WebAppMethodUnsupported");ue=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},l.readTextFromClipboard=function(n){if(!B("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+f),Error("WebAppMethodUnsupported");var o=de(16),i={req_id:o};q[o]={callback:n},t.postEvent("web_app_read_text_from_clipboard",!1,i)},l.requestWriteAccess=function(n){if(!B("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+f),Error("WebAppMethodUnsupported");if(_e)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");_e={callback:n},t.postEvent("web_app_request_write_access")},l.requestContact=function(n){if(!B("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+f),Error("WebAppMethodUnsupported");if(xe)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");xe={callback:n},t.postEvent("web_app_request_phone")},l.invokeCustomMethod=function(n,o,i){Ue(n,o,i)},l.ready=function(){t.postEvent("web_app_ready")},l.expand=function(){t.postEvent("web_app_expand")},l.close=function(){t.postEvent("web_app_close")},window.Telegram.WebApp=l,ge(),Ne(),se(),r.tgWebAppShowSettings&&be.show(),window.addEventListener("resize",v),s&&document.addEventListener("click",_),t.onEvent("theme_changed",K),t.onEvent("viewport_changed",ae),t.onEvent("invoice_closed",mt),t.onEvent("popup_closed",Ie),t.onEvent("qr_text_received",bt),t.onEvent("scan_qr_popup_closed",wt),t.onEvent("clipboard_text_received",tt),t.onEvent("write_access_requested",yt),t.onEvent("phone_requested",xt),t.onEvent("custom_method_invoked",Ct),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport")})();Object.defineProperty(lt,"__esModule",{value:!0});lt.WebApp=void 0;var _o=window;lt.WebApp=_o.Telegram.WebApp;Object.defineProperty(er,"__esModule",{value:!0});var xo=lt,Jt=er.default=xo.WebApp;class Ft extends Error{constructor(t,r,s){super(r,{cause:s}),this.type=t,Object.setPrototypeOf(this,Ft.prototype)}}function Dt(e,t,r){return new Ft(e,t,r)}const Co="ERR_UNEXPECTED_TYPE",tr="ERR_PARSE";function Qe(){return Dt(Co,"Value has unexpected type")}class Bt{constructor(t,r,s){this.parser=t,this.isOptional=r,this.type=s}parse(t){if(!(this.isOptional&&t===void 0))try{return this.parser(t)}catch(r){throw Dt(tr,`Unable to parse value${this.type?` as ${this.type}`:""}`,r)}}optional(){return this.isOptional=!0,this}}function ze(e,t){return()=>new Bt(e,!1,t)}const fe=ze(e=>{if(typeof e=="boolean")return e;const t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;throw Qe()},"boolean");function rr(e,t){const r={};for(const s in e){const l=e[s];if(!l)continue;let p,g;if(typeof l=="function"||"parse"in l)p=s,g=typeof l=="function"?l:l.parse.bind(l);else{const{type:u}=l;p=l.from||s,g=typeof u=="function"?u:u.parse.bind(u)}try{const u=g(t(p));u!==void 0&&(r[s]=u)}catch(u){throw Dt(tr,`Unable to parse field "${s}"`,u)}}return r}function zt(e){let t=e;if(typeof t=="string"&&(t=JSON.parse(t)),typeof t!="object"||t===null||Array.isArray(t))throw Qe();return t}function oe(e,t){return new Bt(r=>{const s=zt(r);return rr(e,l=>s[l])},!1,t)}const Be=ze(e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);if(!Number.isNaN(t))return t}throw Qe()},"number");function Po(e){return/^#[\da-f]{6}$/i.test(e)}function So(e){return/^#[\da-f]{3}$/i.test(e)}function Ao(e){const t=e.replace(/\s/g,"").toLowerCase();if(Po(t))return t;if(So(t)){let s="#";for(let l=0;l<3;l+=1)s+=t[1+l].repeat(2);return s}const r=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!r)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return r.slice(1).reduce((s,l)=>{const p=parseInt(l,10).toString(16);return s+(p.length===1?"0":"")+p},"#")}const O=ze(e=>{if(typeof e=="string"||typeof e=="number")return e.toString();throw Qe()},"string"),nr=ze(e=>Ao(O().parse(e)),"rgb");oe({req_id:O(),data:e=>e===null?e:O().optional().parse(e)}),oe({req_id:O(),result:e=>e,error:O().optional()}),oe({slug:O(),status:O()}),oe({status:O()}),oe({data:O().optional()}),oe({theme_params:e=>{const t=nr().optional();return Object.entries(zt(e)).reduce((r,[s,l])=>(r[s]=t.parse(l),r),{})}}),oe({height:Be(),width:e=>e==null?window.innerWidth:Be().parse(e),is_state_stable:fe(),is_expanded:fe()}),oe({status:O()});const Eo=ze(e=>e instanceof Date?e:new Date(Be().parse(e)*1e3),"Date");function or(e,t){return new Bt(r=>{if(typeof r!="string"&&!(r instanceof URLSearchParams))throw Qe();const s=typeof r=="string"?new URLSearchParams(r):r;return rr(e,l=>{const p=s.get(l);return p===null?void 0:p})},!1,t)}const To=oe({id:Be(),type:O(),title:O(),photoUrl:{type:O().optional(),from:"photo_url"},username:O().optional()},"Chat").optional(),Kt=oe({addedToAttachmentMenu:{type:fe().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:fe().optional(),from:"allows_write_to_pm"},firstName:{type:O(),from:"first_name"},id:Be(),isBot:{type:fe().optional(),from:"is_bot"},isPremium:{type:fe().optional(),from:"is_premium"},languageCode:{type:O().optional(),from:"language_code"},lastName:{type:O().optional(),from:"last_name"},photoUrl:{type:O().optional(),from:"photo_url"},username:O().optional()},"User").optional();function Wo(){return or({authDate:{type:Eo(),from:"auth_date"},canSendAfter:{type:Be().optional(),from:"can_send_after"},chat:To,chatInstance:{type:O().optional(),from:"chat_instance"},chatType:{type:O().optional(),from:"chat_type"},hash:O(),queryId:{type:O().optional(),from:"query_id"},receiver:Kt,startParam:{type:O().optional(),from:"start_param"},user:Kt},"InitData")}function ko(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Io(e){return e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}const Mo=ze(e=>{const t=nr().optional();return Object.entries(zt(e)).reduce((r,[s,l])=>(r[ko(s)]=t.parse(l),r),{})},"ThemeParams");function ar(e){return or({botInline:{type:fe().optional(),from:"tgWebAppBotInline"},initData:{type:Wo().optional(),from:"tgWebAppData"},initDataRaw:{type:O().optional(),from:"tgWebAppData"},platform:{type:O(),from:"tgWebAppPlatform"},showSettings:{type:fe().optional(),from:"tgWebAppShowSettings"},startParam:{type:O().optional(),from:"tgWebAppStartParam"},themeParams:{type:Mo(),from:"tgWebAppThemeParams"},version:{type:O(),from:"tgWebAppVersion"}}).parse(e)}function ir(e){return ar(e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function Oo(){return ir(window.location.href)}function Ro(){return performance.getEntriesByType("navigation")[0]}function Fo(){const e=Ro();if(!e)throw new Error("Unable to get first navigation entry.");return ir(e.name)}function lr(e){return`tma.js/${e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}`}function Do(e,t){sessionStorage.setItem(lr(e),JSON.stringify(t))}function Bo(e){const t=sessionStorage.getItem(lr(e));try{return t?JSON.parse(t):void 0}catch{}}function zo(){return ar(Bo("launchParams")||"")}function $o(e){return JSON.stringify(Object.fromEntries(Object.entries(e).map(([t,r])=>[Io(t),r])))}function Lo(e){const{initDataRaw:t,themeParams:r,platform:s,version:l,showSettings:p,startParam:g,botInline:u}=e,h=new URLSearchParams;return h.set("tgWebAppPlatform",s),h.set("tgWebAppThemeParams",$o(r)),h.set("tgWebAppVersion",l),t&&h.set("tgWebAppData",t),g&&h.set("tgWebAppStartParam",g),typeof p=="boolean"&&h.set("tgWebAppShowSettings",p?"1":"0"),typeof u=="boolean"&&h.set("tgWebAppBotInline",u?"1":"0"),h.toString()}function No(e){Do("launchParams",Lo(e))}function Uo(){for(const e of[Oo,Fo,zo])try{const t=e();return No(t),t}catch{}throw new Error("Unable to retrieve launch parameters from any known source.")}const Vo="https://dashboard.edgematrix.pro/",Ho="#auth",jo=500,qo="authorize-ready",Jo="authorize-setup",Ko="authorize-success",Go="authorize-failure",Qo="user-interrupt";class Xo{constructor(){Oe(this,"_emcWindow");Oe(this,"_eventHandler")}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}_getEventHandler(t,r){return async s=>{var p;if(s.origin!==t.origin){console.warn(`expected origin '${t.origin}', got '${s.origin}'`);return}const l=s.data;switch(l.type){case qo:{const g={type:Jo};(p=this._emcWindow)==null||p.postMessage(g,t.origin);break}case Ko:try{await this._handleSuccess(l,r.onSuccess)}catch(g){this._handleFailure(g.message,r.onError)}break;case Go:this._handleFailure(l.data,r.onError);break;default:console.info(`unknow message type '${l.type}'`);break}}}async _handleSuccess(t,r){this._emcWindow&&this._emcWindow.close(),this._removeEventListener(),delete this._emcWindow,typeof r=="function"&&r(t)}_handleFailure(t,r){this._emcWindow&&!this._emcWindow.closed&&this._emcWindow.close(),typeof r=="function"&&r(t),this._removeEventListener(),delete this._emcWindow}signIn(t){const r=new URL(t.provider||Vo);r.hash=t.endpoint||Ho,this._emcWindow&&this._emcWindow.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(r,t),window.addEventListener("message",this._eventHandler),this._emcWindow=window.open(r.toString(),"emcWindow",t.windowOpenerFeatures);const s=()=>{this._emcWindow&&(this._emcWindow.closed?this._handleFailure(Qo,t.onError):setTimeout(s,jo))};s()}}const Yo=new Xo,Gt="https://emchub.ai/";function Zo(){function e(u){const h=new URLSearchParams;return Object.entries(u).forEach(([f,y])=>{h.append(f,y)}),h.toString()}function t(u){return typeof u!="string"?"":typeof decodeURIComponent!="function"||typeof encodeURIComponent!="function"||decodeURIComponent(u)!==u?u:encodeURIComponent(u)}function r(u){return new Promise(h=>{const f=u.provider||Gt,y=u.endpoint||"#/auth",S=u.windowOpenerFeatures||"popup,width=480,height=720",A=u.client,R=t(u.redirect||"0"),I=u.scope||"read",K=e({launch:"popup",client:A,redirect:R,scope:I}),j=y.indexOf("?")>-1?"&":"?",ae=`${y}${j}${K}`,v=P=>h(["",P.data]),_=P=>h([P,null]);if(!A)throw new Error("Invalid 'client'");Yo.signIn({provider:f,endpoint:ae,windowOpenerFeatures:S,onSuccess:v,onError:_})})}async function s(u){if(typeof window>"u")return["Not found window",null];if(!window.location)return["Not found window.location",null];try{const h=u.provider||Gt,f=u.endpoint||"#/auth",y=u.client,S=t(u.redirect),A=u.scope||"read",R=u.state||"",I=new URL(h),K=e({launch:"redirect",client:y,redirect:S,scope:A,state:R}),j=f.indexOf("?")>-1?"&":"?";if(I.hash=`${f}${j}${K}`,!y)throw new Error("Invalid 'client'");if(!S)throw new Error("Invalid 'redirect'");return["",{url:I.toString()}]}catch(h){return console.error("Error sign in redirect",h),[h.message,null]}}function l(u,h){let f=new RegExp(`[?&]${u}=([^&?#/]+)`,"g"),y=null,S=[];for(;(y=f.exec(h))!==null;)S.push(y[1]);return S}function p(u,h){const f=l(u,h);return f[f.length-1]}async function g(){const u=p("code",location.href);return u?["",{code:u}]:["Not found 'code' value",null]}return{signInWithPopup:r,signInWithRedirect:s,getRedirectResult:g}}const{signInWithPopup:ea,signInWithRedirect:ta,getRedirectResult:ra}=Zo();function na(e){let t=window.localStorage.getItem(e);if(!t)return t;if(t.startsWith("{")||t.startsWith("["))try{return JSON.parse(t)}catch{return t}else return t}function oa(e,t){typeof t=="object"&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)}function aa(e){window.localStorage.removeItem(e)}function ia(e){let t=window.sessionStorage.getItem(e);if(!t)return t;if(t.startsWith("{")||t.startsWith("["))try{return JSON.parse(t)}catch{return t}else return t}function la(e,t){typeof t=="object"&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)}function sa(e){window.sessionStorage.removeItem(e)}function ca(e){if(!e)return null;if(typeof e=="object")return e;try{return JSON.parse(e)}catch{return null}}function ua(e,t){return typeof e!="number"?e:parseFloat(e.toFixed(t||2))}function da(e="",t=10){return e.length<t*2?e:typeof e.slice=="function"?`${e.slice(0,t)}...${e.slice(-t)}`:(console.warn("the value is not a srting",e),"")}function fa(e="",t=10){return e.length<t*2?e:typeof e.slice=="function"?`${e.slice(0,t)}...${e.slice(-t)}`:(console.warn("the value is not a srting",e),"")}function pa(e){let t=0,r,s;if(e.length===0)return t;for(r=0;r<e.length;r++)s=e.charCodeAt(r),t=(t<<5)-t+s,t|=0;return t}const Wt={getLocalStorage:na,setLocalStorage:oa,removeLocalStorage:aa,getSessionStorage:ia,setSessionStorage:la,removeSessionStorage:sa,parseJSON:ca,toFixed:ua,textOverflow:da,formatAddress:fa,hashCode:pa},ee={GET:"GET",POST:"POST",POST_JSON:"POST_JSON",POST_FORMDATA:"POST_FORMDATA",DELETE:"DELETE",PUT:"PUT"},ha={baseURL:"https://emchub.ai"},kt="emchub.session",We=class We{constructor(t){Oe(this,"client");Oe(this,"session",null);this.client=new _n(t||ha),this.client.interceptors.response.use(r=>r,r=>r.response||{}),this.initSession()}static getInstance(){return We._instance||(We._instance=new We),We._instance}initSession(){const t=Wt.getLocalStorage(kt);t&&this.setSession(t)}clearSession(){this.session=null,Wt.removeLocalStorage(kt)}setSession(t){t&&t.token&&(Wt.setLocalStorage(kt,t),this.session=t)}_formatOptions(t,r){if(typeof r.data=="object"&&!(r.data instanceof window.FormData)){const s={};Object.keys(r.data).forEach(l=>{r.data[l]!==void 0?s[l]=r.data[l]:console.info(`remove undefined attr:${l}`)}),r.data=s}return typeof r.headers!="object"&&(r.headers={}),t===ee.GET?(r.method="GET",r.data&&(r.params=r.data,r.paramsSerializer={serialize:s=>Object.keys(s).map(l=>`${l}=${s[l]}`).join("&")},delete r.data)):t===ee.POST?(r.method="POST",r.headers["content-type"]="application/x-www-form-urlencoded",typeof r.data=="object"&&(r.data=Object.keys(r.data).map(s=>`${s}=${encodeURIComponent(r.data[s])}`).join("&"))):t===ee.POST_JSON?(r.method="POST",r.headers["content-type"]="application/json",r.data=typeof r.data=="string"?r.data:JSON.stringify(r.data)):t===ee.POST_FORMDATA?(r.method="POST",r.headers["content-type"]="multipart/form-data"):t===ee.DELETE?(r.method="DELETE",r.headers["content-type"]="application/json"):t===ee.PUT&&(r.method="PUT",r.headers["content-type"]="application/json"),r}_handler(t){return r=>{let s={_result:0,_desc:""};if(!r.status)s._result=99,s._desc="Network error";else if(r.status!==200)s._result=96,s._desc=`Server Error[${r.status}]`;else if(r.headers["content-type"].includes("application/json"))if(typeof r.data=="string")try{s=JSON.parse(r.data)}catch{s._result=98,s._desc="Failed to parse network data"}else typeof r.data=="object"&&(s=r.data);else s._result=97,s._desc="Network data format error";return s}}get(t){var s;const r=this._formatOptions(ee.GET,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}post(t){var s;const r=this._formatOptions(ee.POST,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}postFormData(t){var s;const r=this._formatOptions(ee.POST_FORMDATA,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}postJSON(t){var s;const r=this._formatOptions(ee.POST_JSON,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}delete(t){var s;const r=this._formatOptions(ee.DELETE,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}put(t){var s;const r=this._formatOptions(ee.PUT,t);return(s=this.client)==null?void 0:s.request(r).then(this._handler(r))}};Oe(We,"_instance");let Ot=We;const va=Ot.getInstance(),ga={class:"page"},ma=pe({__name:"index",setup(e){async function t(){const A={client:"1234"},[R,I]=await ea(A);if(R)return window.alert(R);const K=I.code;window.alert(`code: ${K}`)}const r=U(Jt.platform),s=U(""),l=U("");async function p(){const A={client:"1234",redirect:location.href};sessionStorage.setItem("redrect","1");const[R,I]=await ta(A);if(R)return window.alert(R);location.href=I.url}Yt(async()=>{if(sessionStorage.getItem("redrect")){sessionStorage.removeItem("redrect");const[I,K]=await ra();if(I)return window.alert(I);const j=K.code;window.alert(`code: ${j}`)}const{initDataRaw:R}=Uo();if(R){l.value=R;const I=await va.postJSON({url:"https://dev.emchub.ai/api/v1/auth/telegram",data:{raw:R}});s.value=JSON.stringify(I.data)}});const g=bn(),u=yo();function h(){g.push({name:"test"})}function f(){Jt.showAlert("Hey there!")}function y(){sessionStorage.setItem("kk","hello?")}function S(){const A=sessionStorage.getItem("kk");u.info(A||"none")}return(A,R)=>(wn(),mn("div",ga,[Ht("div",null,"platform: "+jt(r.value),1),Ht("div",null,"Telegram Mini App User: "+jt(s.value),1),Ee(Te(wo),{type:"textarea",value:l.value},null,8,["value"]),Ee(Te(De),{type:"primary",size:"large",strong:"",onClick:h},{default:Re(()=>[Fe("Go Next Page")]),_:1}),Ee(Te(De),{type:"primary",size:"large",strong:"",onClick:t},{default:Re(()=>[Fe("Go EMC Hub Popup")]),_:1}),Ee(Te(De),{type:"primary",size:"large",strong:"",onClick:p},{default:Re(()=>[Fe("Go EMC Hub Redirect")]),_:1}),Ee(Te(De),{type:"primary",size:"large",strong:"",onClick:f},{default:Re(()=>[Fe("MiniAppAlert")]),_:1}),Ee(Te(De),{type:"primary",size:"large",strong:"",onClick:y},{default:Re(()=>[Fe("Test Set Window.SessionStorage")]),_:1}),Ee(Te(De),{type:"primary",size:"large",strong:"",onClick:S},{default:Re(()=>[Fe("Test Get Window.SessionStorage")]),_:1})]))}}),_a=yn(ma,[["__scopeId","data-v-c10d09b9"]]);export{_a as default};
